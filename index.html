<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Silver Surfer - Free Bodyweight & Calisthenics Training</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #1e90ff;
      --primary-dark: #0d6efd;
      --secondary: #00bfff;
      --accent: #87ceeb;
      --accent-light: #b0e0e6;
      --dark: #0a1f3a;
      --darker: #072340;
      --darkest: #051428;
      --light: #ffffff;
      --light-gray: #f8f9fa;
      --ice: #e6f3ff;
      --polar: #b0e0e6;
      --success: #32cd32;
      --success-dark: #28a428;
      --warning: #ffd700;
      --danger: #ff4500;
      --storm: #1c2d4a;
      --silver: #c0c0c0;
      --silver-light: #d9d9d9;
      --neon-blue: #00ffff;
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
      --gradient-dark: linear-gradient(135deg, var(--darker), var(--dark));
      --gradient-silver: linear-gradient(135deg, var(--silver), var(--accent-light));
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.3);
      --shadow-xl: 0 30px 60px rgba(0, 0, 0, 0.4);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Montserrat', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--darkest) 0%, var(--darker) 30%, var(--dark) 100%);
      color: var(--light);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      line-height: 1.6;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(30, 144, 255, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(0, 191, 255, 0.05) 0%, transparent 20%),
        linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.02) 50%, transparent 70%);
      pointer-events: none;
      z-index: -1;
    }

    /* Floating shapes animation */
    .floating-shapes {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: 0.5;
    }

    .floating-shapes div {
      position: absolute;
      border-radius: 50%;
      background: var(--gradient-silver);
      opacity: 0.1;
      filter: blur(20px);
      animation: floatShape 25s infinite linear;
    }

    .floating-shapes div:nth-child(1) {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
      background: var(--gradient-primary);
    }

    .floating-shapes div:nth-child(2) {
      width: 200px;
      height: 200px;
      top: 60%;
      right: 10%;
      animation-delay: 10s;
      animation-duration: 20s;
      background: var(--gradient-silver);
    }

    .floating-shapes div:nth-child(3) {
      width: 150px;
      height: 150px;
      bottom: 20%;
      left: 20%;
      animation-delay: 5s;
      animation-duration: 30s;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
    }

    @keyframes floatShape {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.1;
      }
      33% {
        transform: translate(30px, 50px) rotate(120deg) scale(1.1);
        opacity: 0.15;
      }
      66% {
        transform: translate(-20px, 30px) rotate(240deg) scale(0.9);
        opacity: 0.05;
      }
    }

    /* Particle background */
    .particles {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      background: var(--silver);
      border-radius: 50%;
      opacity: 0.1;
      animation: floatParticle 20s infinite linear;
    }

    @keyframes floatParticle {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.1;
      }
      90% {
        opacity: 0.1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background: rgba(7, 35, 64, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      border-bottom: 2px solid var(--silver);
      padding: 15px 0;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    header.scrolled {
      padding: 10px 0;
      background: rgba(7, 35, 64, 0.98);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: var(--gradient-silver);
      border-radius: 50%;
      animation: pulseGlow 3s infinite;
      box-shadow: 0 0 20px var(--silver);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-icon::after {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--silver);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--silver-light);
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--light);
      font-family: 'Montserrat', sans-serif;
      letter-spacing: 2px;
      text-shadow: 0 0 15px rgba(192, 192, 192, 0.5);
      background: linear-gradient(to right, var(--silver), var(--accent-light), var(--silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: textShimmer 3s infinite linear;
    }

    @keyframes textShimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    @keyframes pulseGlow {
      0%, 100% { 
        transform: scale(1); 
        box-shadow: 0 0 20px var(--silver);
      }
      50% { 
        transform: scale(1.05); 
        box-shadow: 0 0 30px var(--silver-light), 0 0 40px rgba(192, 192, 192, 0.3);
      }
    }

    .nav-menu {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .nav-item {
      color: var(--ice);
      font-weight: 600;
      font-size: 0.9rem;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s;
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 20px;
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
      white-space: nowrap;
    }

    .nav-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.7s;
    }

    .nav-item:hover::before {
      left: 100%;
    }

    .nav-item:hover {
      color: var(--light);
      background: rgba(30, 144, 255, 0.15);
      border-color: var(--silver);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.2);
    }

    .user-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .level-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--gradient-primary);
      padding: 6px 15px;
      border-radius: 50px;
      color: white;
      font-weight: 700;
      font-size: 0.8rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--silver);
      animation: badgePulse 2s infinite;
      white-space: nowrap;
    }

    @keyframes badgePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .menu-toggle {
      display: none;
      color: var(--ice);
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.5rem;
      padding: 8px;
      border-radius: 10px;
      transition: all 0.3s;
      background: rgba(30, 144, 255, 0.1);
    }

    .menu-toggle:hover {
      color: var(--silver);
      background: rgba(30, 144, 255, 0.2);
    }

    .mobile-menu {
      display: none;
      background: rgba(7, 35, 64, 0.98);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      z-index: 999;
      padding: 20px;
      border-bottom: 2px solid var(--silver);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .mobile-menu .nav-item {
      display: block;
      width: 100%;
      padding: 15px 20px;
      text-align: left;
      color: var(--ice);
      font-weight: 600;
      background: none;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s;
      margin-bottom: 10px;
      border-radius: 12px;
      border: 1px solid transparent;
    }

    .mobile-menu .nav-item:hover {
      color: var(--light);
      background: rgba(30, 144, 255, 0.2);
      border-color: var(--silver);
    }

    /* Main Content */
    main {
      padding-top: 100px;
      min-height: calc(100vh - 200px);
    }

    /* Home Screen */
    .home-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 90vh;
      position: relative;
      overflow: hidden;
      padding: 40px 20px;
      text-align: center;
    }

    .home-content {
      text-align: center;
      z-index: 10;
      padding: 60px 50px;
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.2);
      box-shadow: 
        var(--shadow-xl),
        inset 0 0 50px rgba(30, 144, 255, 0.1);
      max-width: 900px;
      animation: contentFloat 8s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    @keyframes contentFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-15px) scale(1.01); }
    }

    .home-content::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.05) 50%, transparent 70%);
      animation: shimmerBG 25s infinite linear;
      z-index: -1;
    }

    @keyframes shimmerBG {
      0% { transform: translateX(-50%) translateY(-50%) rotate(0deg); }
      100% { transform: translateX(-50%) translateY(-50%) rotate(360deg); }
    }

    .home-title {
      font-size: 4.5rem;
      font-weight: 900;
      margin-bottom: 20px;
      background: linear-gradient(135deg, var(--silver) 0%, var(--accent-light) 50%, var(--silver) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Montserrat', sans-serif;
      text-shadow: 0 0 40px rgba(135, 206, 235, 0.3);
      position: relative;
      z-index: 2;
      animation: titleGlow 4s infinite alternate;
      letter-spacing: 3px;
    }

    @keyframes titleGlow {
      0% { text-shadow: 0 0 40px rgba(135, 206, 235, 0.3); }
      100% { text-shadow: 0 0 60px rgba(135, 206, 235, 0.5), 0 0 80px rgba(192, 192, 192, 0.3); }
    }

    .tagline {
      font-size: 1.4rem;
      color: var(--silver);
      font-style: italic;
      margin-bottom: 30px;
      position: relative;
      z-index: 2;
      padding: 15px 0;
      display: inline-block;
      letter-spacing: 1.5px;
      font-weight: 300;
      text-shadow: 0 0 15px rgba(192, 192, 192, 0.4);
      border-top: 1px solid rgba(192, 192, 192, 0.3);
      border-bottom: 1px solid rgba(192, 192, 192, 0.3);
    }

    .home-subtitle {
      font-size: 1.6rem;
      color: var(--ice);
      margin-bottom: 50px;
      line-height: 1.6;
      font-weight: 300;
      position: relative;
      z-index: 2;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 20px;
    }

    .home-buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      position: relative;
      z-index: 2;
    }

    .btn {
      padding: 18px 45px;
      color: var(--light);
      font-weight: 700;
      font-size: 1.2rem;
      border: none;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border-radius: 50px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 220px;
      justify-content: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.7s;
      z-index: -1;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-8px) scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    .btn-glow {
      animation: btnPulse 3s infinite;
    }

    @keyframes btnPulse {
      0% { 
        box-shadow: var(--shadow), 0 0 0 0 rgba(30, 144, 255, 0.5); 
      }
      70% { 
        box-shadow: var(--shadow), 0 0 0 20px rgba(30, 144, 255, 0); 
      }
      100% { 
        box-shadow: var(--shadow), 0 0 0 0 rgba(30, 144, 255, 0); 
      }
    }

    /* Auth Forms */
    .auth-form {
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 50px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.2);
      box-shadow: var(--shadow-xl);
      max-width: 500px;
      margin: 0 auto;
      animation: formAppear 0.5s ease-out;
    }

    @keyframes formAppear {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .form-title {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--light);
      text-align: center;
      margin-bottom: 40px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .form-group {
      margin-bottom: 30px;
    }

    .form-label {
      display: block;
      color: var(--ice);
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-input {
      width: 100%;
      padding: 18px 22px;
      background: rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(192, 192, 192, 0.3);
      border-radius: 15px;
      color: var(--light);
      font-size: 1.1rem;
      transition: all 0.3s;
      font-family: inherit;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(135, 206, 235, 0.2);
      background: rgba(0, 0, 0, 0.3);
    }

    .form-actions {
      display: flex;
      gap: 20px;
      margin-top: 40px;
    }

    .form-link {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      display: block;
      margin-top: 25px;
      padding: 12px;
      border-radius: 10px;
    }

    .form-link:hover {
      color: var(--silver);
      background: rgba(30, 144, 255, 0.1);
      text-decoration: none;
    }

    /* Dashboard */
    .dashboard {
      padding: 40px 20px;
    }

    .dashboard-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 40px;
      color: var(--light);
      text-align: center;
      text-shadow: 0 0 20px var(--primary);
      position: relative;
      animation: titleFloat 6s ease-in-out infinite;
    }

    @keyframes titleFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .dashboard-title::after {
      content: '';
      display: block;
      width: 120px;
      height: 5px;
      background: var(--gradient-silver);
      margin: 20px auto;
      border-radius: 5px;
      animation: linePulse 3s infinite;
    }

    @keyframes linePulse {
      0%, 100% { opacity: 1; transform: scaleX(1); }
      50% { opacity: 0.8; transform: scaleX(1.1); }
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }

    .stat-card {
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 35px;
      border-radius: 25px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      text-align: center;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .stat-card:hover {
      transform: translateY(-12px) scale(1.03);
      border-color: var(--silver);
      box-shadow: var(--shadow-xl);
    }

    .stat-icon {
      color: var(--accent);
      margin-bottom: 25px;
      font-size: 3.2rem;
      filter: drop-shadow(0 0 15px rgba(135, 206, 235, 0.5));
      animation: iconFloat 4s ease-in-out infinite;
    }

    @keyframes iconFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .stat-title {
      font-size: 1.2rem;
      color: var(--ice);
      margin-bottom: 15px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .stat-value {
      font-size: 2.8rem;
      font-weight: 800;
      color: var(--light);
      text-shadow: 0 0 15px var(--primary);
    }

    /* Program Cards */
    .program-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 35px;
      margin-bottom: 60px;
    }

    .program-card {
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 30px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      text-align: center;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .program-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .program-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.05) 50%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s;
    }

    .program-card:hover::after {
      opacity: 1;
    }

    .program-card:hover {
      transform: translateY(-15px) scale(1.03);
      border-color: var(--silver);
      box-shadow: var(--shadow-xl);
    }

    .program-icon {
      font-size: 3.5rem;
      color: var(--accent);
      margin-bottom: 30px;
      filter: drop-shadow(0 0 20px rgba(135, 206, 235, 0.5));
      transition: transform 0.4s;
    }

    .program-card:hover .program-icon {
      transform: scale(1.2) rotate(10deg);
    }

    .program-title {
      font-size: 2.2rem;
      font-weight: 800;
      color: var(--light);
      margin-bottom: 25px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .program-desc {
      color: var(--ice);
      margin-bottom: 30px;
      line-height: 1.7;
      font-size: 1.2rem;
    }

    .program-features {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .program-feature {
      background: rgba(30, 144, 255, 0.15);
      padding: 12px 22px;
      border-radius: 25px;
      color: var(--accent);
      font-size: 1rem;
      font-weight: 600;
      border: 1px solid rgba(192, 192, 192, 0.2);
      transition: all 0.3s;
    }

    .program-feature:hover {
      background: rgba(30, 144, 255, 0.25);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.2);
    }

    /* Section Styling */
    .section-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--light);
      text-align: center;
      text-shadow: 0 0 20px var(--primary);
      position: relative;
    }

    .section-title::after {
      content: '';
      display: block;
      width: 120px;
      height: 5px;
      background: var(--gradient-silver);
      margin: 20px auto 30px;
      border-radius: 5px;
    }

    .section-subtitle {
      text-align: center;
      color: var(--ice);
      margin-bottom: 50px;
      font-size: 1.3rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    /* Footer */
    footer {
      background: rgba(7, 35, 64, 0.95);
      padding: 60px 20px;
      border-top: 2px solid var(--silver);
      text-align: center;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      margin-top: 80px;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .footer-logo:hover {
      transform: scale(1.05);
    }

    .footer-logo-icon {
      width: 40px;
      height: 40px;
      background: var(--gradient-silver);
      border-radius: 50%;
      animation: pulseGlow 3s infinite;
      box-shadow: 0 0 20px var(--silver);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .footer-logo-icon::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--silver);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--silver-light);
    }

    .footer-logo-text {
      font-size: 2.2rem;
      font-weight: 900;
      color: var(--light);
      font-family: 'Montserrat', sans-serif;
      text-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
      letter-spacing: 2px;
      background: linear-gradient(to right, var(--silver), var(--accent-light), var(--silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: textShimmer 3s infinite linear;
    }

    .footer-description {
      font-size: 1.2rem;
      color: var(--ice);
      margin-bottom: 40px;
      text-align: center;
      max-width: 900px;
      line-height: 1.8;
      padding: 0 20px;
    }

    .footer-contact {
      font-size: 1.2rem;
      color: var(--accent);
      margin-bottom: 40px;
      text-align: center;
      cursor: pointer;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.4s;
      display: inline-flex;
      align-items: center;
      gap: 15px;
      padding: 16px 35px;
      border-radius: 50px;
      border: 2px solid var(--accent);
      background: rgba(30, 144, 255, 0.1);
    }

    .footer-contact:hover {
      background: var(--accent);
      color: var(--dark);
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(135, 206, 235, 0.3);
    }

    .footer-copyright {
      font-size: 1rem;
      color: var(--ice);
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(192, 192, 192, 0.3);
      width: 100%;
      font-weight: 300;
    }

    /* Details Grid */
    .details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }

    .detail-item {
      background: rgba(30, 144, 255, 0.15);
      padding: 30px;
      border-radius: 25px;
      border-left: 5px solid var(--silver);
      transition: all 0.4s;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .detail-item:hover {
      transform: translateY(-8px);
      background: rgba(30, 144, 255, 0.25);
      box-shadow: var(--shadow);
    }

    /* Workout Screen */
    .workout-screen {
      padding: 40px 20px;
    }

    .workout-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 50px;
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 30px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      box-shadow: var(--shadow-lg);
      flex-wrap: wrap;
      gap: 20px;
    }

    .back-btn {
      color: var(--ice);
      background: rgba(30, 144, 255, 0.2);
      border: 2px solid var(--silver);
      padding: 16px 32px;
      border-radius: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      transition: all 0.4s;
      font-size: 1.2rem;
    }

    .back-btn:hover {
      background: var(--primary);
      transform: translateX(-5px) scale(1.05);
      box-shadow: 0 15px 30px rgba(30, 144, 255, 0.3);
    }

    /* Exercise Container */
    .exercise-container {
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 40px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      text-align: center;
      margin-bottom: 50px;
      box-shadow: var(--shadow-xl);
      position: relative;
      overflow: hidden;
    }

    .exercise-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    /* Exercise Progress */
    .exercise-progress {
      margin: 40px 0;
    }

    .exercise-steps {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin: 40px 0;
      flex-wrap: wrap;
    }

    .exercise-step {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      background: rgba(30, 144, 255, 0.2);
      color: var(--ice);
      border: 2px solid rgba(192, 192, 192, 0.3);
      transition: all 0.3s;
      font-size: 1.1rem;
    }

    .exercise-step.active {
      background: var(--gradient-primary);
      color: white;
      border-color: var(--silver);
      transform: scale(1.2);
      box-shadow: 0 0 20px rgba(30, 144, 255, 0.5);
    }

    .exercise-step.completed {
      background: var(--success);
      color: white;
      border-color: var(--success);
      box-shadow: 0 0 15px rgba(50, 205, 50, 0.5);
    }

    /* Current Exercise Display */
    .current-exercise {
      background: rgba(30, 144, 255, 0.15);
      padding: 45px;
      border-radius: 25px;
      margin: 50px 0;
      border: 2px solid rgba(192, 192, 192, 0.2);
      position: relative;
      overflow: hidden;
      animation: exerciseAppear 0.6s ease-out;
    }

    @keyframes exerciseAppear {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .current-exercise h3 {
      font-size: 2.5rem;
      color: var(--light);
      margin-bottom: 25px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .exercise-details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 25px;
      margin: 40px 0;
    }

    .exercise-detail-card {
      background: rgba(7, 35, 64, 0.6);
      padding: 25px;
      border-radius: 20px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      text-align: center;
      transition: transform 0.3s;
    }

    .exercise-detail-card:hover {
      transform: translateY(-5px);
    }

    .exercise-detail-card h4 {
      color: var(--accent);
      margin-bottom: 15px;
      font-size: 1.1rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .exercise-detail-card p {
      color: var(--light);
      font-size: 1.8rem;
      font-weight: 700;
    }

    .exercise-description {
      background: rgba(0, 0, 0, 0.2);
      padding: 25px;
      border-radius: 20px;
      margin: 40px 0;
      border-left: 5px solid var(--accent);
    }

    .exercise-description p {
      color: var(--ice);
      font-size: 1.2rem;
      line-height: 1.7;
    }

    /* Technique Guide */
    .technique-guide {
      background: rgba(7, 35, 64, 0.9);
      padding: 30px;
      border-radius: 20px;
      margin: 40px 0;
      border: 2px solid var(--silver);
      box-shadow: var(--shadow);
    }

    .technique-guide h4 {
      color: var(--accent);
      margin-bottom: 20px;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .technique-steps {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .technique-step {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      background: rgba(30, 144, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      transition: transform 0.3s;
    }

    .technique-step:hover {
      transform: translateX(5px);
      background: rgba(30, 144, 255, 0.15);
    }

    .step-number {
      background: var(--gradient-primary);
      color: white;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
      font-size: 1.1rem;
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
    }

    .step-description {
      color: var(--ice);
      flex: 1;
      line-height: 1.7;
      font-size: 1.1rem;
    }

    /* Timer Styles */
    .timer-container {
      margin: 40px 0;
      padding: 25px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 20px;
      border: 2px solid var(--silver);
      box-shadow: var(--shadow);
    }

    .timer-display {
      font-size: 4rem;
      font-weight: 800;
      color: var(--light);
      text-shadow: 0 0 20px var(--primary);
      margin: 30px 0;
      font-family: 'Courier New', monospace;
      letter-spacing: 2px;
    }

    .timer-controls {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 30px;
    }

    .timer-btn {
      padding: 15px 30px;
      border-radius: 50px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 140px;
      justify-content: center;
      font-size: 1.1rem;
    }

    .timer-btn-start {
      background: linear-gradient(135deg, var(--success), var(--success-dark));
      color: white;
    }

    .timer-btn-pause {
      background: linear-gradient(135deg, var(--warning), #daa520);
      color: white;
    }

    .timer-btn-reset {
      background: linear-gradient(135deg, var(--danger), #b22222);
      color: white;
    }

    .timer-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    /* Progress Bar */
    .progress-container {
      margin: 40px 0;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      color: var(--ice);
      font-weight: 600;
      font-size: 1.1rem;
    }

    .progress-bar {
      height: 15px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 10px;
      transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmerProgress 2s infinite;
    }

    @keyframes shimmerProgress {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      margin: 50px 0;
      flex-wrap: wrap;
    }

    /* Next Day Button */
    .next-day-btn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      padding: 18px 45px;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.4s;
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 30px auto;
      box-shadow: var(--shadow);
    }

    .next-day-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    /* Completion Screen */
    .completion-screen {
      text-align: center;
      padding: 60px;
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      box-shadow: var(--shadow-xl);
    }

    .completion-icon {
      font-size: 6rem;
      color: var(--success);
      margin-bottom: 30px;
      animation: successPulse 2s infinite;
    }

    @keyframes successPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Language selector in settings */
    .language-selector-settings {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      padding: 15px;
      background: rgba(30, 144, 255, 0.1);
      border-radius: 15px;
      border: 1px solid rgba(192, 192, 192, 0.2);
    }

    .lang-btn-settings {
      flex: 1;
      background: rgba(7, 35, 64, 0.7);
      border: 2px solid rgba(192, 192, 192, 0.3);
      color: var(--ice);
      font-weight: 600;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .lang-btn-settings:hover {
      background: rgba(30, 144, 255, 0.2);
      transform: translateY(-2px);
    }

    .lang-btn-settings.active {
      background: var(--gradient-primary);
      color: white;
      border-color: var(--silver);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
    }

    /* Responsive Design */
    @media (max-width: 1100px) {
      .home-title {
        font-size: 3.5rem;
      }
      
      .section-title {
        font-size: 2.3rem;
      }
      
      .program-cards {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .timer-display {
        font-size: 3.2rem;
      }
    }

    @media (max-width: 900px) {
      .nav-menu {
        display: none;
      }
      
      .user-actions {
        display: none;
      }
      
      .menu-toggle {
        display: block;
      }
      
      .home-title {
        font-size: 3rem;
      }
      
      .home-subtitle {
        font-size: 1.4rem;
      }
      
      .btn {
        padding: 16px 35px;
        font-size: 1.1rem;
        min-width: 200px;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .program-cards {
        grid-template-columns: 1fr;
      }
      
      .workout-header {
        flex-direction: column;
        text-align: center;
        gap: 25px;
      }
      
      .timer-display {
        font-size: 2.8rem;
      }
      
      .action-buttons {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 768px) {
      .home-title {
        font-size: 2.5rem;
      }
      
      .home-content {
        padding: 40px 30px;
      }
      
      .home-buttons {
        flex-direction: column;
        align-items: stretch;
      }
      
      .btn {
        width: 100%;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .timer-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .timer-btn {
        width: 100%;
        max-width: 280px;
      }
      
      .current-exercise h3 {
        font-size: 2rem;
      }
      
      .exercise-detail-card p {
        font-size: 1.5rem;
      }
    }

    @media (max-width: 576px) {
      .home-title {
        font-size: 2.2rem;
      }
      
      .home-subtitle {
        font-size: 1.2rem;
      }
      
      .section-title {
        font-size: 2rem;
      }
      
      .section-subtitle {
        font-size: 1.1rem;
      }
      
      .timer-display {
        font-size: 2.5rem;
      }
      
      .auth-form {
        padding: 30px 20px;
      }
      
      .form-title {
        font-size: 2rem;
      }
      
      .exercise-step {
        width: 40px;
        height: 40px;
      }
    }

    @media (max-width: 400px) {
      .home-title {
        font-size: 2rem;
      }
      
      .home-subtitle {
        font-size: 1.1rem;
      }
      
      .btn {
        padding: 15px 25px;
        font-size: 1rem;
      }
      
      .exercise-step {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
      
      .logo-text {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Floating background shapes -->
  <div class="floating-shapes">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <!-- Header -->
  <header id="mainHeader">
    <div class="header-content container">
      <div class="logo" onclick="showHome()">
        <div class="logo-icon"></div>
        <div class="logo-text">SILVER SURFER</div>
      </div>
      
      <div class="nav-menu" id="navMenu">
        <!-- Навигация будет обновляться динамически -->
      </div>
      
      <div class="user-actions" id="userActions">
        <!-- Действия пользователя будут обновляться динамически -->
      </div>
      
      <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    
    <div class="mobile-menu" id="mobileMenu">
      <!-- Мобильное меню будет обновляться динамически -->
    </div>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="container">
    <!-- Содержимое будет обновляться динамически -->
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-logo" onclick="showHome()">
        <div class="footer-logo-icon"></div>
        <div class="footer-logo-text">SILVER SURFER</div>
      </div>
      <p class="footer-description" id="footerDescription">
        Silver Surfer Fitness - Your ultimate FREE bodyweight and calisthenics training platform. 
        Transform your body with professional 90-day programs using street workout equipment and bodyweight exercises.
      </p>
      
      <a class="footer-contact" href="mailto:denialrikruts@gmail.com">
        <i class="fas fa-envelope"></i> <span id="footerContactText">Need Help? Contact Support: denialrikruts@gmail.com</span>
      </a>
      <div class="footer-copyright" id="footerCopyright">
        © 2024 Silver Surfer Fitness. All rights reserved. | "Ride the Wave of Fitness" 
      </div>
    </div>
  </footer>

  <script>
    // ==================== LANGUAGE SYSTEM ====================
    const translations = {
      ru: {
        // Home page
        tagline: "Покори Волну Фитнеса",
        subtitle: "Преобразуй свое тело с уличными тренировками и калистеникой",
        startFree: "НАЧАТЬ БЕСПЛАТНО",
        login: "ВОЙТИ В АККАУНТ",
        
        // Auth
        loginTitle: "Вход в аккаунт",
        registerTitle: "Регистрация",
        username: "Имя пользователя",
        password: "Пароль",
        confirmPassword: "Подтвердите пароль",
        chooseProgram: "Выберите программу",
        loginBtn: "ВОЙТИ",
        registerBtn: "СОЗДАТЬ АККАУНТ",
        noAccount: "Нет аккаунта? Зарегистрируйтесь",
        haveAccount: "Уже есть аккаунт? Войдите",
        backHome: "Назад на главную",
        
        // Programs
        hybridProgram: "HYBRID SURFER (Гибридная)",
        streetProgram: "STREET SURFER (Уличная)",
        homeProgram: "HOME SURFER (Домашняя)",
        
        // Dashboard
        welcome: "Добро пожаловать",
        currentStreak: "Текущая серия",
        workoutsCompleted: "Тренировок выполнено",
        totalMinutes: "Всего минут",
        achievements: "Достижения",
        dayXof90: "День {day} из 90",
        todaysWorkout: "Сегодняшняя тренировка",
        startWorkout: "Начать тренировку",
        allWorkouts: "Все тренировки",
        workoutType: "Тип тренировки",
        duration: "Длительность",
        location: "Место",
        upperBody: "Верх тела",
        lowerBody: "Низ тела",
        fullBody: "Все тело",
        skill: "Навыки",
        cardio: "Кардио",
        rest: "Отдых",
        street: "Турники/Брусья",
        home: "Дома",
        any: "Любое",
        
        // Navigation
        home: "Главная",
        programs: "Программы",
        todaysTraining: "Сегодня",
        nutrition: "Питание",
        achievementsNav: "Достижения",
        settings: "Настройки",
        logout: "Выйти",
        level: "Уровень",
        language: "Язык",
        
        // Workout
        back: "Назад",
        progress: "Прогресс",
        sets: "Подходы",
        reps: "Повторения",
        restTime: "Отдых",
        technique: "Техника выполнения",
        completeExercise: "Завершить упражнение",
        completeWorkout: "Завершить тренировку",
        next: "Далее",
        previous: "Назад",
        startTimer: "Старт",
        pauseTimer: "Пауза",
        resetTimer: "Сброс",
        workoutComplete: "Тренировка завершена!",
        greatJob: "Отличная работа!",
        completedIn: "Вы завершили",
        nextWorkout: "Следующая тренировка",
        goHome: "На главную",
        
        // Settings
        changeLanguage: "Сменить язык",
        russian: "Русский",
        english: "English",
        saveSettings: "Сохранить настройки",
        cancel: "Отмена",
        
        // Footer
        footerDesc: "Silver Surfer Fitness - Ваша лучшая БЕСПЛАТНАЯ платформа для тренировок с весом тела и калистеники. Преобразуйте свое тело с профессиональными 90-дневными программами.",
        contactText: "Нужна помощь? Свяжитесь с поддержкой: denialrikruts@gmail.com",
        copyright: "© 2024 Silver Surfer Fitness. Все права защищены. | 'Покори Волну Фитнеса'"
      },
      
      en: {
        // Home page
        tagline: "Ride the Wave of Fitness",
        subtitle: "Transform Your Body with Street Workouts & Calisthenics",
        startFree: "START FREE",
        login: "LOG IN",
        
        // Auth
        loginTitle: "Login",
        registerTitle: "Register",
        username: "Username",
        password: "Password",
        confirmPassword: "Confirm Password",
        chooseProgram: "Choose Program",
        loginBtn: "LOGIN",
        registerBtn: "CREATE ACCOUNT",
        noAccount: "No account? Register",
        haveAccount: "Already have an account? Login",
        backHome: "Back to Home",
        
        // Programs
        hybridProgram: "HYBRID SURFER (Hybrid)",
        streetProgram: "STREET SURFER (Street)",
        homeProgram: "HOME SURFER (Home)",
        
        // Dashboard
        welcome: "Welcome",
        currentStreak: "Current Streak",
        workoutsCompleted: "Workouts Completed",
        totalMinutes: "Total Minutes",
        achievements: "Achievements",
        dayXof90: "Day {day} of 90",
        todaysWorkout: "Today's Workout",
        startWorkout: "Start Workout",
        allWorkouts: "All Workouts",
        workoutType: "Workout Type",
        duration: "Duration",
        location: "Location",
        upperBody: "Upper Body",
        lowerBody: "Lower Body",
        fullBody: "Full Body",
        skill: "Skills",
        cardio: "Cardio",
        rest: "Rest",
        street: "Bars/Equipment",
        home: "Home",
        any: "Any",
        
        // Navigation
        home: "Home",
        programs: "Programs",
        todaysTraining: "Today",
        nutrition: "Nutrition",
        achievementsNav: "Achievements",
        settings: "Settings",
        logout: "Logout",
        level: "Level",
        language: "Language",
        
        // Workout
        back: "Back",
        progress: "Progress",
        sets: "Sets",
        reps: "Reps",
        restTime: "Rest",
        technique: "Technique Guide",
        completeExercise: "Complete Exercise",
        completeWorkout: "Complete Workout",
        next: "Next",
        previous: "Previous",
        startTimer: "Start",
        pauseTimer: "Pause",
        resetTimer: "Reset",
        workoutComplete: "Workout Complete!",
        greatJob: "Great Job!",
        completedIn: "You completed",
        nextWorkout: "Next Workout",
        goHome: "Go Home",
        
        // Settings
        changeLanguage: "Change Language",
        russian: "Русский",
        english: "English",
        saveSettings: "Save Settings",
        cancel: "Cancel",
        
        // Footer
        footerDesc: "Silver Surfer Fitness - Your ultimate FREE bodyweight and calisthenics training platform. Transform your body with professional 90-day programs using street workout equipment and bodyweight exercises.",
        contactText: "Need Help? Contact Support: denialrikruts@gmail.com",
        copyright: "© 2024 Silver Surfer Fitness. All rights reserved. | 'Ride the Wave of Fitness'"
      }
    };

    let currentLanguage = 'ru';
    let languageReady = false;

    function setLanguage(lang) {
      currentLanguage = lang;
      
      // Update all translatable elements
      updatePageLanguage();
      
      // Save preference
      localStorage.setItem('silverSurferLanguage', lang);
      
      // Show confirmation
      if (currentUser) {
        showDashboard();
      }
    }

    function t(key, params = {}) {
      let text = translations[currentLanguage][key] || translations['en'][key] || key;
      
      // Replace parameters
      Object.keys(params).forEach(param => {
        text = text.replace(`{${param}}`, params[param]);
      });
      
      return text;
    }

    function updatePageLanguage() {
      // Update footer
      const footerDesc = document.getElementById('footerDescription');
      const footerContact = document.getElementById('footerContactText');
      const footerCopyright = document.getElementById('footerCopyright');
      
      if (footerDesc) footerDesc.textContent = t('footerDesc');
      if (footerContact) footerContact.textContent = t('contactText');
      if (footerCopyright) footerCopyright.textContent = t('copyright');
      
      // Update navigation and current page
      updateNavigation();
      updateCurrentPageContent();
    }

    function updateCurrentPageContent() {
      const mainContent = document.getElementById('mainContent');
      
      // Проверяем, какая страница сейчас открыта
      if (mainContent.querySelector('.home-screen')) {
        // Это главная страница
        updateHomePage();
      } else if (mainContent.querySelector('.dashboard')) {
        // Это дашборд
        showDashboard();
      } else if (mainContent.querySelector('.workout-screen')) {
        // Это страница тренировки
        showWorkoutScreen();
      } else if (mainContent.querySelector('.workout-selection')) {
        // Это выбор программы
        if (mainContent.querySelector('.program-cards')) {
          if (mainContent.querySelector('.program-card')) {
            showPrograms();
          } else {
            showWorkouts();
          }
        }
      } else if (mainContent.querySelector('.auth-form')) {
        // Это форма авторизации
        updateAuthPage();
      } else if (mainContent.querySelector('.nutrition-tips')) {
        // Это питание
        showNutrition();
      } else if (mainContent.querySelector('.language-selector-settings')) {
        // Это настройки
        showSettings();
      }
    }

    function updateHomePage() {
      const tagline = document.getElementById('tagline');
      const homeSubtitle = document.getElementById('homeSubtitle');
      const startFreeBtn = document.querySelector('.btn-primary');
      const loginBtn = document.querySelector('.btn-secondary');
      
      if (tagline) tagline.textContent = t('tagline');
      if (homeSubtitle) homeSubtitle.textContent = t('subtitle');
      
      if (startFreeBtn) {
        startFreeBtn.innerHTML = `<i class="fas fa-user-plus"></i> ${t('startFree')}`;
      }
      if (loginBtn) {
        loginBtn.innerHTML = `<i class="fas fa-sign-in-alt"></i> ${t('login')}`;
      }
    }

    function updateAuthPage() {
      const formTitle = document.querySelector('.form-title');
      if (!formTitle) return;
      
      const isRegister = formTitle.textContent.includes('Регистрация') || formTitle.textContent.includes('Register');
      
      if (isRegister) {
        updateRegisterPage();
      } else {
        updateLoginPage();
      }
    }

    function updateLoginPage() {
      const formTitle = document.querySelector('.form-title');
      const usernameLabel = document.querySelector('label[for="loginUsername"]');
      const passwordLabel = document.querySelector('label[for="loginPassword"]');
      const loginBtn = document.querySelector('.btn-primary');
      const noAccountLink = document.querySelector('.form-link:nth-of-type(1)');
      const backHomeLink = document.querySelector('.form-link:nth-of-type(2)');
      
      if (formTitle) formTitle.textContent = t('loginTitle');
      if (usernameLabel) usernameLabel.innerHTML = `<i class="fas fa-user"></i> ${t('username')}`;
      if (passwordLabel) passwordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('password')}`;
      if (loginBtn) loginBtn.innerHTML = `<i class="fas fa-sign-in-alt"></i> ${t('loginBtn')}`;
      if (noAccountLink) noAccountLink.textContent = t('noAccount');
      if (backHomeLink) backHomeLink.innerHTML = `<i class="fas fa-arrow-left"></i> ${t('backHome')}`;
    }

    function updateRegisterPage() {
      const formTitle = document.querySelector('.form-title');
      const usernameLabel = document.querySelector('label[for="registerUsername"]');
      const passwordLabel = document.querySelector('label[for="registerPassword"]');
      const confirmPasswordLabel = document.querySelector('label[for="registerConfirmPassword"]');
      const programLabel = document.querySelector('label[for="registerProgram"]');
      const registerBtn = document.querySelector('.btn-primary');
      const haveAccountLink = document.querySelector('.form-link:nth-of-type(1)');
      const backHomeLink = document.querySelector('.form-link:nth-of-type(2)');
      
      if (formTitle) formTitle.textContent = t('registerTitle');
      if (usernameLabel) usernameLabel.innerHTML = `<i class="fas fa-user"></i> ${t('username')}`;
      if (passwordLabel) passwordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('password')}`;
      if (confirmPasswordLabel) confirmPasswordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('confirmPassword')}`;
      if (programLabel) programLabel.innerHTML = `<i class="fas fa-dumbbell"></i> ${t('chooseProgram')}`;
      if (registerBtn) registerBtn.innerHTML = `<i class="fas fa-user-plus"></i> ${t('registerBtn')}`;
      if (haveAccountLink) haveAccountLink.textContent = t('haveAccount');
      if (backHomeLink) backHomeLink.innerHTML = `<i class="fas fa-arrow-left"></i> ${t('backHome')}`;
      
      // Обновляем опции программы
      const programSelect = document.getElementById('registerProgram');
      if (programSelect) {
        programSelect.innerHTML = `
          <option value="hybrid">${t('hybridProgram')}</option>
          <option value="street">${t('streetProgram')}</option>
          <option value="home">${t('homeProgram')}</option>
        `;
      }
    }

    // ==================== INITIALIZATION ====================
    console.log("Silver Surfer Fitness - Initializing...");
    
    // Система пользователей
    const USER_STORAGE_KEY = 'silverSurferUsers';
    const CURRENT_USER_KEY = 'silverSurferCurrentUser';
    
    let currentUser = null;
    let usersDB = {};
    
    // Workout database - 90-дневная программа
    const workoutsDB = {
      'hybrid': {
        name: { ru: "HYBRID SURFER PROGRAM", en: "HYBRID SURFER PROGRAM" },
        description: { 
          ru: "90-дневная программа сочетающая уличные и домашние тренировки",
          en: "90-day program combining street and home workouts"
        },
        totalDays: 90,
        workouts: {}
      },
      'street': {
        name: { ru: "STREET SURFER PROGRAM", en: "STREET SURFER PROGRAM" },
        description: { 
          ru: "90-дневная программа уличных тренировок с оборудованием",
          en: "90-day street workout program with equipment"
        },
        totalDays: 90,
        workouts: {}
      },
      'home': {
        name: { ru: "HOME SURFER PROGRAM", en: "HOME SURFER PROGRAM" },
        description: { 
          ru: "90-дневная домашняя программа без оборудования",
          en: "90-day home program without equipment"
        },
        totalDays: 90,
        workouts: {}
      }
    };
    
    // Хеширование пароля
    function hashPassword(password) {
      let hash = 0;
      for (let i = 0; i < password.length; i++) {
        const char = password.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
      }
      return hash.toString();
    }
    
    // Генерация тренировок на 90 дней для каждой программы
    function generateWorkoutsForProgram(programType) {
      const workouts = {};
      
      for (let day = 1; day <= 90; day++) {
        let workout;
        
        if (programType === 'hybrid') {
          // Гибрид: чередование уличных и домашних тренировок
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 2 === 0) {
            workout = generateHomeWorkout(day);
          } else {
            workout = generateStreetWorkout(day);
          }
        } else if (programType === 'street') {
          // Уличная программа
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 5 === 0) {
            workout = generateSkillDay(day);
          } else if (day % 3 === 0) {
            workout = generateLowerBodyWorkout(day);
          } else {
            workout = generateUpperBodyWorkout(day);
          }
        } else if (programType === 'home') {
          // Домашняя программа
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 5 === 0) {
            workout = generateCardioDay(day);
          } else {
            workout = generateFullBodyWorkout(day);
          }
        }
        
        workouts[day] = workout;
      }
      
      return workouts;
    }
    
    // Генерация упражнений
    function generateUpperBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка верха тела`,
          en: `Day ${day}: Upper Body Workout`
        },
        duration: 60,
        type: 'upper',
        location: 'street',
        exercises: [
          {
            name: { ru: "Подтягивания", en: "Pull-ups" },
            sets: "4",
            reps: "8-12",
            rest: "90",
            description: { 
              ru: "Широкий хват для ширины спины",
              en: "Wide grip for back width"
            }
          },
          {
            name: { ru: "Отжимания на брусьях", en: "Parallel Bar Dips" },
            sets: "4",
            reps: "10-15",
            rest: "90",
            description: { 
              ru: "Для груди и трицепсов",
              en: "For chest and triceps"
            }
          },
          {
            name: { ru: "Подъемы ног в висе", en: "Hanging Leg Raises" },
            sets: "3",
            reps: "12-15",
            rest: "60",
            description: { 
              ru: "Для пресса",
              en: "For abs"
            }
          }
        ]
      };
    }
    
    function generateHomeWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Домашняя тренировка`,
          en: `Day ${day}: Home Workout`
        },
        duration: 45,
        type: 'full',
        location: 'home',
        exercises: [
          {
            name: { ru: "Отжимания", en: "Push-ups" },
            sets: "4",
            reps: "15-20",
            rest: "60",
            description: { 
              ru: "Классические отжимания для груди и трицепсов",
              en: "Classic push-ups for chest and triceps"
            }
          },
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "4",
            reps: "20-25",
            rest: "60",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Планка", en: "Plank" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Упражнение для кора",
              en: "Core exercise"
            }
          }
        ]
      };
    }
    
    function generateStreetWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Уличная тренировка`,
          en: `Day ${day}: Street Workout`
        },
        duration: 60,
        type: 'upper',
        location: 'street',
        exercises: [
          {
            name: { ru: "Подтягивания", en: "Pull-ups" },
            sets: "4",
            reps: "8-12",
            rest: "90",
            description: { 
              ru: "Базовая техника для спины и бицепсов",
              en: "Basic technique for back and biceps"
            }
          },
          {
            name: { ru: "Отжимания на брусьях", en: "Parallel Bar Dips" },
            sets: "4",
            reps: "10-15",
            rest: "90",
            description: { 
              ru: "Для развития груди и трицепсов",
              en: "For chest and triceps development"
            }
          }
        ]
      };
    }
    
    function generateRestDay(day) {
      return {
        name: { 
          ru: `День ${day}: Отдых`,
          en: `Day ${day}: Rest Day`
        },
        duration: 0,
        type: 'rest',
        location: 'any',
        exercises: []
      };
    }
    
    function generateLowerBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка низа тела`,
          en: `Day ${day}: Lower Body Workout`
        },
        duration: 50,
        type: 'lower',
        location: 'street',
        exercises: [
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "4",
            reps: "15-20",
            rest: "90",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Выпады", en: "Lunges" },
            sets: "3",
            reps: "12-15 на каждую ногу",
            rest: "60",
            description: { 
              ru: "Для ягодиц и ног",
              en: "For glutes and legs"
            }
          }
        ]
      };
    }
    
    function generateSkillDay(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка навыков`,
          en: `Day ${day}: Skill Training`
        },
        duration: 40,
        type: 'skill',
        location: 'street',
        exercises: [
          {
            name: { ru: "Выходы силой", en: "Muscle-ups" },
            sets: "3",
            reps: "3-5",
            rest: "120",
            description: { 
              ru: "Тренировка выхода силой на турнике",
              en: "Muscle-up training on pull-up bar"
            }
          }
        ]
      };
    }
    
    function generateCardioDay(day) {
      return {
        name: { 
          ru: `День ${day}: Кардио тренировка`,
          en: `Day ${day}: Cardio Workout`
        },
        duration: 30,
        type: 'cardio',
        location: 'home',
        exercises: [
          {
            name: { ru: "Берпи", en: "Burpees" },
            sets: "4",
            reps: "10-15",
            rest: "60",
            description: { 
              ru: "Комплексное упражнение для всего тела",
              en: "Full body compound exercise"
            }
          },
          {
            name: { ru: "Прыжки на месте", en: "Jumping Jacks" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Кардио упражнение",
              en: "Cardio exercise"
            }
          }
        ]
      };
    }
    
    function generateFullBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка всего тела`,
          en: `Day ${day}: Full Body Workout`
        },
        duration: 55,
        type: 'full',
        location: 'home',
        exercises: [
          {
            name: { ru: "Отжимания", en: "Push-ups" },
            sets: "3",
            reps: "15-20",
            rest: "60",
            description: { 
              ru: "Классические отжимания",
              en: "Classic push-ups"
            }
          },
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "3",
            reps: "20-25",
            rest: "60",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Планка", en: "Plank" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Упражнение для кора",
              en: "Core exercise"
            }
          }
        ]
      };
    }
    
    // Инициализация тренировок для каждой программы
    for (const programType in workoutsDB) {
      workoutsDB[programType].workouts = generateWorkoutsForProgram(programType);
    }
    
    // Текущая тренировка
    let currentWorkout = null;
    let currentExerciseIndex = 0;
    let timerInterval = null;
    let timerSeconds = 0;
    let timerRunning = false;
    
    // Загрузка базы пользователей
    function loadUsersDB() {
      try {
        const saved = localStorage.getItem(USER_STORAGE_KEY);
        if (saved) {
          usersDB = JSON.parse(saved);
        } else {
          usersDB = {};
          saveUsersDB();
        }
      } catch (error) {
        console.error("Error loading users DB:", error);
        usersDB = {};
      }
    }
    
    // Сохранение базы пользователей
    function saveUsersDB() {
      try {
        localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(usersDB));
        return true;
      } catch (error) {
        console.error("Error saving users DB:", error);
        return false;
      }
    }
    
    // Загрузка текущего пользователя
    function loadCurrentUser() {
      try {
        const saved = localStorage.getItem(CURRENT_USER_KEY);
        if (saved) {
          const user = JSON.parse(saved);
          // Проверяем, существует ли пользователь в базе
          if (usersDB[user.id]) {
            currentUser = usersDB[user.id];
            return true;
          }
        }
      } catch (error) {
        console.error("Error loading current user:", error);
      }
      return false;
    }
    
    // Сохранение текущего пользователя
    function saveCurrentUser() {
      try {
        localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
        return true;
      } catch (error) {
        console.error("Error saving current user:", error);
        return false;
      }
    }
    
    // Создание нового пользователя
    function createUser(username, password, programType = 'hybrid') {
      const userId = Date.now().toString();
      
      const newUser = {
        id: userId,
        username: username,
        passwordHash: hashPassword(password),
        level: 1,
        experience: 0,
        streak: 0,
        completedWorkouts: 0,
        totalMinutes: 0,
        unlockedAchievements: [1],
        currentProgram: programType,
        programDay: 1,
        lastActive: new Date().toISOString(),
        completedDays: [],
        createdAt: new Date().toISOString()
      };
      
      usersDB[userId] = newUser;
      saveUsersDB();
      
      return newUser;
    }
    
    // Вход пользователя
    function loginUser(username, password) {
      // Поиск пользователя
      for (const userId in usersDB) {
        if (usersDB[userId].username.toLowerCase() === username.toLowerCase()) {
          // Проверка пароля
          if (usersDB[userId].passwordHash === hashPassword(password)) {
            currentUser = usersDB[userId];
            
            // Проверка стрика
            const lastActive = new Date(currentUser.lastActive);
            const today = new Date();
            const diffDays = Math.floor((today - lastActive) / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) {
              currentUser.streak++;
            } else if (diffDays > 1) {
              currentUser.streak = 0;
            }
            
            currentUser.lastActive = today.toISOString();
            saveCurrentUser();
            
            return true;
          }
        }
      }
      return false;
    }
    
    // Выход пользователя
    function logoutUser() {
      if (currentUser) {
        currentUser.lastActive = new Date().toISOString();
        usersDB[currentUser.id] = currentUser;
        saveUsersDB();
      }
      currentUser = null;
      localStorage.removeItem(CURRENT_USER_KEY);
    }
    
    // Получение текущей тренировки пользователя
    function getUserCurrentWorkout() {
      if (!currentUser) return null;
      
      const program = workoutsDB[currentUser.currentProgram];
      if (!program) return null;
      
      // Если программа завершена
      if (currentUser.programDay > program.totalDays) {
        return {
          name: { 
            ru: "Программа завершена!", 
            en: "Program Completed!" 
          },
          description: { 
            ru: "Вы успешно завершили 90-дневную программу!",
            en: "You have successfully completed the 90-day program!"
          },
          type: 'completed',
          exercises: []
        };
      }
      
      return program.workouts[currentUser.programDay];
    }
    
    // Автоматический переход к следующему дню
    function advanceToNextDay() {
      if (!currentUser) return;
      
      // Если текущий день не был выполнен, отмечаем как выполненный
      if (!currentUser.completedDays.includes(currentUser.programDay)) {
        currentUser.completedDays.push(currentUser.programDay);
      }
      
      // Переходим к следующему дню
      currentUser.programDay++;
      
      // Если программа завершена
      if (currentUser.programDay > workoutsDB[currentUser.currentProgram].totalDays) {
        currentUser.programDay = workoutsDB[currentUser.currentProgram].totalDays;
      }
      
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
    }
    
    // Создание частиц для фона
    function createParticles() {
      const particlesContainer = document.createElement('div');
      particlesContainer.className = 'particles';
      
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.width = particle.style.height = Math.random() * 3 + 1 + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = Math.random() * 10 + 15 + 's';
        particlesContainer.appendChild(particle);
      }
      
      document.body.appendChild(particlesContainer);
    }
    
    // Обновление бейджа уровня
    function updateLevelBadge() {
      const levelBadge = document.getElementById('levelBadge');
      if (levelBadge && currentUser) {
        levelBadge.innerHTML = `<i class="fas fa-star"></i> ${t('level')} ${currentUser.level}`;
      }
    }
    
    // Обновление навигации
    function updateNavigation() {
      const navMenu = document.getElementById('navMenu');
      const userActions = document.getElementById('userActions');
      const mobileMenu = document.getElementById('mobileMenu');
      
      if (currentUser) {
        // Пользователь вошел в систему
        navMenu.innerHTML = `
          <div class="nav-item" onclick="showDashboard()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showPrograms()">
            <i class="fas fa-dumbbell"></i> ${t('programs')}
          </div>
          <div class="nav-item" onclick="startTodaysWorkout()">
            <i class="fas fa-running"></i> ${t('todaysTraining')}
          </div>
          <div class="nav-item" onclick="showNutrition()">
            <i class="fas fa-apple-alt"></i> ${t('nutrition')}
          </div>
          <div class="nav-item" onclick="showAchievements()">
            <i class="fas fa-trophy"></i> ${t('achievementsNav')}
          </div>
        `;
        
        userActions.innerHTML = `
          <div class="level-badge" id="levelBadge">
            <i class="fas fa-star"></i> ${t('level')} ${currentUser.level}
          </div>
          <div class="nav-item" onclick="showSettings()">
            <i class="fas fa-cog"></i> ${t('settings')}
          </div>
          <div class="nav-item" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> ${t('logout')}
          </div>
        `;
        
        mobileMenu.innerHTML = `
          <div class="nav-item" onclick="showDashboard()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showPrograms()">
            <i class="fas fa-dumbbell"></i> ${t('programs')}
          </div>
          <div class="nav-item" onclick="startTodaysWorkout()">
            <i class="fas fa-running"></i> ${t('todaysTraining')}
          </div>
          <div class="nav-item" onclick="showNutrition()">
            <i class="fas fa-apple-alt"></i> ${t('nutrition')}
          </div>
          <div class="nav-item" onclick="showAchievements()">
            <i class="fas fa-trophy"></i> ${t('achievementsNav')}
          </div>
          <div class="nav-item" onclick="showSettings()">
            <i class="fas fa-cog"></i> ${t('settings')}
          </div>
          <div class="nav-item" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> ${t('logout')}
          </div>
        `;
      } else {
        // Пользователь не вошел в систему
        navMenu.innerHTML = `
          <div class="nav-item" onclick="showHome()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showLogin()">
            <i class="fas fa-sign-in-alt"></i> ${t('login')}
          </div>
          <div class="nav-item" onclick="showRegister()">
            <i class="fas fa-user-plus"></i> ${t('registerTitle')}
          </div>
        `;
        
        userActions.innerHTML = '';
        
        mobileMenu.innerHTML = `
          <div class="nav-item" onclick="showHome()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showLogin()">
            <i class="fas fa-sign-in-alt"></i> ${t('login')}
          </div>
          <div class="nav-item" onclick="showRegister()">
            <i class="fas fa-user-plus"></i> ${t('registerTitle')}
          </div>
        `;
      }
      
      updateLevelBadge();
    }
    
    // Эффект скролла хедера
    function initScrollHeader() {
      const header = document.getElementById('mainHeader');
      if (!header) return;
      
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });
    }
    
    // Функции таймера
    function startTimer() {
      if (timerRunning) return;
      
      timerRunning = true;
      timerInterval = setInterval(() => {
        timerSeconds++;
        updateTimerDisplay();
      }, 1000);
    }
    
    function pauseTimer() {
      if (!timerRunning) return;
      
      timerRunning = false;
      clearInterval(timerInterval);
    }
    
    function resetTimer() {
      timerRunning = false;
      clearInterval(timerInterval);
      timerSeconds = 0;
      updateTimerDisplay();
    }
    
    function updateTimerDisplay() {
      const timerDisplay = document.getElementById('timerDisplay');
      if (timerDisplay) {
        const hours = Math.floor(timerSeconds / 3600);
        const minutes = Math.floor((timerSeconds % 3600) / 60);
        const seconds = timerSeconds % 60;
        
        timerDisplay.textContent = 
          `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
    }
    
    // ==================== NAVIGATION ====================
    
    function showHome() {
      document.getElementById('mainContent').innerHTML = `
        <div class="home-screen" id="homeScreen">
          <div class="home-content">
            <h1 class="home-title" id="homeTitle">SILVER SURFER</h1>
            <div class="tagline" id="tagline">${t('tagline')}</div>
            <p class="home-subtitle" id="homeSubtitle">${t('subtitle')}</p>
            <div class="home-buttons">
              <button class="btn btn-primary btn-glow" onclick="showRegister()">
                <i class="fas fa-user-plus"></i> ${t('startFree')}
              </button>
              <button class="btn btn-secondary" onclick="showLogin()">
                <i class="fas fa-sign-in-alt"></i> ${t('login')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showLogin() {
      document.getElementById('mainContent').innerHTML = `
        <div class="auth-form">
          <h2 class="form-title">${t('loginTitle')}</h2>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-user"></i> ${t('username')}</label>
            <input type="text" id="loginUsername" class="form-input" placeholder="${t('username')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('password')}</label>
            <input type="password" id="loginPassword" class="form-input" placeholder="${t('password')}">
          </div>
          <div class="form-actions">
            <button class="btn btn-primary" onclick="performLogin()" style="flex: 1;">
              <i class="fas fa-sign-in-alt"></i> ${t('loginBtn')}
            </button>
          </div>
          <a class="form-link" onclick="showRegister()">
            ${t('noAccount')}
          </a>
          <a class="form-link" onclick="showHome()">
            <i class="fas fa-arrow-left"></i> ${t('backHome')}
          </a>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showRegister() {
      document.getElementById('mainContent').innerHTML = `
        <div class="auth-form">
          <h2 class="form-title">${t('registerTitle')}</h2>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-user"></i> ${t('username')}</label>
            <input type="text" id="registerUsername" class="form-input" placeholder="${t('username')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('password')}</label>
            <input type="password" id="registerPassword" class="form-input" placeholder="${t('password')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('confirmPassword')}</label>
            <input type="password" id="registerConfirmPassword" class="form-input" placeholder="${t('confirmPassword')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-dumbbell"></i> ${t('chooseProgram')}</label>
            <select id="registerProgram" class="form-input">
              <option value="hybrid">${t('hybridProgram')}</option>
              <option value="street">${t('streetProgram')}</option>
              <option value="home">${t('homeProgram')}</option>
            </select>
          </div>
          <div class="form-actions">
            <button class="btn btn-primary" onclick="performRegister()" style="flex: 1;">
              <i class="fas fa-user-plus"></i> ${t('registerBtn')}
            </button>
          </div>
          <a class="form-link" onclick="showLogin()">
            ${t('haveAccount')}
          </a>
          <a class="form-link" onclick="showHome()">
            <i class="fas fa-arrow-left"></i> ${t('backHome')}
          </a>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function performLogin() {
      const usernameInput = document.getElementById('loginUsername');
      const passwordInput = document.getElementById('loginPassword');
      
      if (!usernameInput || !usernameInput.value.trim()) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите имя пользователя' : 'Please enter username');
        return;
      }
      
      if (!passwordInput || !passwordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите пароль' : 'Please enter password');
        return;
      }
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value;
      
      if (loginUser(username, password)) {
        saveCurrentUser();
        updateNavigation();
        showDashboard();
      } else {
        alert(currentLanguage === 'ru' ? 'Неверное имя пользователя или пароль' : 'Invalid username or password');
      }
    }
    
    function performRegister() {
      const usernameInput = document.getElementById('registerUsername');
      const passwordInput = document.getElementById('registerPassword');
      const confirmPasswordInput = document.getElementById('registerConfirmPassword');
      const programInput = document.getElementById('registerProgram');
      
      if (!usernameInput || !usernameInput.value.trim()) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите имя пользователя' : 'Please enter username');
        return;
      }
      
      if (usernameInput.value.trim().length < 3) {
        alert(currentLanguage === 'ru' ? 'Имя пользователя должно быть не менее 3 символов' : 'Username must be at least 3 characters');
        return;
      }
      
      if (!passwordInput || !passwordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите пароль' : 'Please enter password');
        return;
      }
      
      if (passwordInput.value.length < 6) {
        alert(currentLanguage === 'ru' ? 'Пароль должен быть не менее 6 символов' : 'Password must be at least 6 characters');
        return;
      }
      
      if (!confirmPasswordInput || !confirmPasswordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, подтвердите пароль' : 'Please confirm password');
        return;
      }
      
      if (passwordInput.value !== confirmPasswordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пароли не совпадают' : 'Passwords do not match');
        return;
      }
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value;
      const programType = programInput ? programInput.value : 'hybrid';
      
      // Проверка на существующего пользователя
      let userExists = false;
      for (const userId in usersDB) {
        if (usersDB[userId].username.toLowerCase() === username.toLowerCase()) {
          userExists = true;
          break;
        }
      }
      
      if (userExists) {
        alert(currentLanguage === 'ru' ? 'Это имя пользователя уже занято. Пожалуйста, выберите другое.' : 'This username is already taken. Please choose another.');
        return;
      }
      
      // Создание нового пользователя
      const newUser = createUser(username, password, programType);
      currentUser = newUser;
      saveCurrentUser();
      updateNavigation();
      showDashboard();
    }
    
    function logout() {
      logoutUser();
      updateNavigation();
      showHome();
    }
    
    function showDashboard() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      loadCurrentUser();
      updateNavigation();
      
      const currentWorkout = getUserCurrentWorkout();
      const program = workoutsDB[currentUser.currentProgram];
      
      document.getElementById('mainContent').innerHTML = `
        <div class="dashboard">
          <h1 class="dashboard-title">${t('welcome')}, ${currentUser.username}!</h1>
          
          <div class="level-badge" style="display: inline-block; margin: 0 auto 40px; text-align: center; padding: 15px 35px; font-size: 1.2rem;">
            <i class="fas fa-star"></i> ${t('level')} ${currentUser.level} | ${t('dayXof90', { day: currentUser.programDay })}
          </div>
          
          <div class="stats-grid">
            <div class="stat-card">
              <i class="fas fa-fire stat-icon"></i>
              <h3 class="stat-title">${t('currentStreak')}</h3>
              <p class="stat-value">${currentUser.streak}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-dumbbell stat-icon"></i>
              <h3 class="stat-title">${t('workoutsCompleted')}</h3>
              <p class="stat-value">${currentUser.completedWorkouts}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-clock stat-icon"></i>
              <h3 class="stat-title">${t('totalMinutes')}</h3>
              <p class="stat-value">${currentUser.totalMinutes}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-trophy stat-icon"></i>
              <h3 class="stat-title">${t('achievements')}</h3>
              <p class="stat-value">${currentUser.unlockedAchievements.length}/15</p>
            </div>
          </div>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 50px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 25px; font-size: 2rem;">${t('todaysWorkout')}</h3>
            <p style="color: var(--ice); text-align: center; margin-bottom: 30px; font-size: 1.3rem;">
              <strong>${currentWorkout.name[currentLanguage]}</strong><br>
              ${currentWorkout.type === 'rest' ? 
                (currentLanguage === 'ru' ? 'День отдыха - важно для восстановления!' : 'Rest day - important for recovery!') : 
                currentWorkout.location === 'street' ? 
                (currentLanguage === 'ru' ? 'Уличная тренировка' : 'Street workout') : 
                (currentLanguage === 'ru' ? 'Домашняя тренировка' : 'Home workout')}
            </p>
            
            <div class="details-grid">
              <div class="detail-item">
                <h4><i class="fas fa-bullseye"></i> ${t('workoutType')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.type === 'upper' ? t('upperBody') : 
                     currentWorkout.type === 'lower' ? t('lowerBody') : 
                     currentWorkout.type === 'full' ? t('fullBody') : 
                     currentWorkout.type === 'skill' ? t('skill') : 
                     currentWorkout.type === 'cardio' ? t('cardio') : 
                     currentWorkout.type === 'rest' ? t('rest') : t('fullBody')}
                </p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-clock"></i> ${t('duration')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.duration > 0 ? currentWorkout.duration + ' ' + (currentLanguage === 'ru' ? 'мин' : 'minutes') : t('rest')}
                </p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-map-marker-alt"></i> ${t('location')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.location === 'street' ? t('street') : 
                     currentWorkout.location === 'home' ? t('home') : 
                     t('any')}
                </p>
              </div>
            </div>
            
            <div class="home-buttons" style="margin-top: 50px;">
              <button class="btn btn-primary" onclick="startTodaysWorkout()" style="font-size: 1.3rem; padding: 20px 40px;">
                <i class="fas fa-play"></i> ${currentWorkout.type === 'rest' ? 
                  (currentLanguage === 'ru' ? 'План отдыха' : 'Rest Plan') : 
                  t('startWorkout')}
              </button>
              <button class="btn btn-secondary" onclick="showWorkouts()" style="font-size: 1.3rem; padding: 20px 40px;">
                <i class="fas fa-calendar-alt"></i> ${t('allWorkouts')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function startTodaysWorkout() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      const workout = getUserCurrentWorkout();
      if (!workout) {
        alert(currentLanguage === 'ru' ? 'Тренировка не найдена' : 'Workout not found');
        return;
      }
      
      startWorkout(workout);
    }
    
    function startWorkout(workout) {
      currentWorkout = workout;
      currentExerciseIndex = 0;
      timerSeconds = 0;
      timerRunning = false;
      
      showWorkoutScreen();
    }
    
    function showWorkoutScreen() {
      if (!currentWorkout || !currentUser) return;
      
      const progress = Math.round((currentExerciseIndex / currentWorkout.exercises.length) * 100);
      
      // Создание шагов упражнений
      const exerciseSteps = currentWorkout.exercises.map((_, index) => `
        <div class="exercise-step ${index < currentExerciseIndex ? 'completed' : ''} ${index === currentExerciseIndex ? 'active' : ''}">
          ${index + 1}
        </div>
      `).join('');
      
      const currentExercise = currentWorkout.exercises[currentExerciseIndex];
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-screen">
          <div class="workout-header">
            <button class="back-btn" onclick="showDashboard()">
              <i class="fas fa-arrow-left"></i> ${t('back')}
            </button>
            <h2 style="color: var(--light); font-size: 2.2rem;">${currentWorkout.name[currentLanguage]}</h2>
            <div class="level-badge">
              <i class="fas fa-clock"></i> ${currentWorkout.duration} ${currentLanguage === 'ru' ? 'мин' : 'min'}
            </div>
          </div>
          
          <div class="exercise-container">
            <div class="exercise-progress">
              <div class="progress-container">
                <div class="progress-header">
                  <span>${t('progress')}</span>
                  <span>${currentExerciseIndex + 1} / ${currentWorkout.exercises.length}</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: ${progress}%"></div>
                </div>
              </div>
              
              <div class="exercise-steps">
                ${exerciseSteps}
              </div>
            </div>
            
            ${currentWorkout.type !== 'rest' ? `
            <div class="timer-container">
              <h4 style="color: var(--ice); text-align: center; margin-bottom: 20px;">${currentLanguage === 'ru' ? 'Таймер тренировки' : 'Workout Timer'}</h4>
              <div class="timer-display" id="timerDisplay">00:00:00</div>
              <div class="timer-controls">
                <button class="timer-btn timer-btn-start" onclick="startTimer()">
                  <i class="fas fa-play"></i> ${t('startTimer')}
                </button>
                <button class="timer-btn timer-btn-pause" onclick="pauseTimer()">
                  <i class="fas fa-pause"></i> ${t('pauseTimer')}
                </button>
                <button class="timer-btn timer-btn-reset" onclick="resetTimer()">
                  <i class="fas fa-redo"></i> ${t('resetTimer')}
                </button>
              </div>
            </div>
            ` : ''}
            
            <div class="current-exercise">
              <h3>${currentExercise.name[currentLanguage]}</h3>
              
              <div class="exercise-details-grid">
                <div class="exercise-detail-card">
                  <h4>${t('sets')}</h4>
                  <p>${currentExercise.sets} ${currentLanguage === 'ru' ? 'подходов' : 'sets'}</p>
                </div>
                <div class="exercise-detail-card">
                  <h4>${t('reps')}</h4>
                  <p>${currentExercise.reps} ${currentLanguage === 'ru' ? 'повторений' : 'reps'}</p>
                </div>
                <div class="exercise-detail-card">
                  <h4>${t('restTime')}</h4>
                  <p>${currentExercise.rest} ${currentLanguage === 'ru' ? 'секунд' : 'seconds'}</p>
                </div>
              </div>
              
              <div class="exercise-description">
                <p>${currentExercise.description[currentLanguage]}</p>
              </div>
            </div>
            
            <div class="action-buttons">
              ${currentExerciseIndex > 0 ? `
                <button class="btn btn-secondary" onclick="previousExercise()">
                  <i class="fas fa-arrow-left"></i> ${t('previous')}
                </button>
              ` : ''}
              
              <button class="btn btn-primary" onclick="completeExercise()">
                ${currentExerciseIndex === currentWorkout.exercises.length - 1 ? 
                  `<i class="fas fa-check-circle"></i> ${t('completeWorkout')}` : 
                  `<i class="fas fa-check"></i> ${t('completeExercise')}`}
              </button>
              
              ${currentExerciseIndex < currentWorkout.exercises.length - 1 ? `
                <button class="btn btn-secondary" onclick="nextExercise()">
                  ${t('next')} <i class="fas fa-arrow-right"></i>
                </button>
              ` : ''}
            </div>
          </div>
        </div>
      `;
      
      updateTimerDisplay();
      closeMobileMenu();
    }
    
    function completeExercise() {
      if (!currentWorkout || currentExerciseIndex >= currentWorkout.exercises.length) return;
      
      currentExerciseIndex++;
      
      if (currentExerciseIndex < currentWorkout.exercises.length) {
        showWorkoutScreen();
      } else {
        completeWorkout();
      }
    }
    
    function nextExercise() {
      if (!currentWorkout || currentExerciseIndex >= currentWorkout.exercises.length - 1) return;
      
      currentExerciseIndex++;
      showWorkoutScreen();
    }
    
    function previousExercise() {
      if (!currentWorkout || currentExerciseIndex <= 0) return;
      
      currentExerciseIndex--;
      showWorkoutScreen();
    }
    
    function completeWorkout() {
      if (!currentWorkout || !currentUser) return;
      
      // Остановка таймера
      pauseTimer();
      
      // Расчет времени тренировки
      const workoutMinutes = Math.max(10, Math.floor(timerSeconds / 60));
      
      // Обновление статистики пользователя
      currentUser.completedWorkouts++;
      currentUser.totalMinutes += workoutMinutes;
      currentUser.experience += 150;
      
      // Отметка дня как выполненного
      if (!currentUser.completedDays.includes(currentUser.programDay)) {
        currentUser.completedDays.push(currentUser.programDay);
      }
      
      // Переход к следующему дню
      advanceToNextDay();
      
      // Обновление стрика
      currentUser.streak++;
      
      // Проверка повышения уровня
      if (currentUser.experience >= 1000) {
        currentUser.level++;
        currentUser.experience = currentUser.experience - 1000;
      }
      
      // Проверка достижений
      if (currentUser.streak === 7 && !currentUser.unlockedAchievements.includes(2)) {
        currentUser.unlockedAchievements.push(2);
      }
      
      // Сохранение
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
      
      // Показ экрана завершения
      const completionTime = Math.floor(timerSeconds / 60);
      const completionSeconds = timerSeconds % 60;
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-screen">
          <div class="workout-header">
            <button class="back-btn" onclick="showDashboard()">
              <i class="fas fa-arrow-left"></i> ${t('goHome')}
            </button>
            <h2 style="color: var(--light); font-size: 2.2rem;">${t('workoutComplete')}</h2>
            <div class="level-badge">
              <i class="fas fa-trophy"></i> ${currentLanguage === 'ru' ? 'Успех' : 'Success'}
            </div>
          </div>
          
          <div class="completion-screen">
            <div class="completion-icon">
              <i class="fas fa-trophy"></i>
            </div>
            <h3 style="color: var(--light); margin-bottom: 25px; font-size: 2.5rem;">${t('greatJob')}</h3>
            <p style="color: var(--ice); margin-bottom: 40px; font-size: 1.4rem;">
              ${t('completedIn')} <strong>${currentWorkout.name[currentLanguage]}</strong> ${currentLanguage === 'ru' ? 'за' : 'in'} ${completionTime}:${completionSeconds.toString().padStart(2, '0')}!
            </p>
            
            <div class="details-grid" style="margin: 50px 0;">
              <div class="detail-item">
                <h4><i class="fas fa-fire"></i> ${t('currentStreak')}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">${currentUser.streak}</p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-dumbbell"></i> ${t('workoutsCompleted')}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">${currentUser.completedWorkouts}</p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-star"></i> ${currentLanguage === 'ru' ? 'Опыт получен' : 'Experience gained'}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">+150 XP</p>
              </div>
            </div>
            
            <div style="margin-top: 50px;">
              <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.4rem; padding: 22px 55px; margin-right: 25px;">
                <i class="fas fa-home"></i> ${t('goHome')}
              </button>
              <button class="btn btn-secondary" onclick="startTodaysWorkout()" style="font-size: 1.4rem; padding: 22px 55px;">
                <i class="fas fa-dumbbell"></i> ${t('nextWorkout')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showWorkouts() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      const program = workoutsDB[currentUser.currentProgram];
      if (!program) return;
      
      // Создание списка тренировок
      let workoutsHTML = '';
      for (let day = 1; day <= 90; day++) {
        const workout = program.workouts[day];
        const isCompleted = currentUser.completedDays.includes(day);
        const isToday = day === currentUser.programDay;
        
        workoutsHTML += `
          <div class="program-card" onclick="${isToday && !isCompleted ? `startWorkout(program.workouts[${day}])` : ''}" 
               style="opacity: ${isCompleted ? '0.7' : '1'}; cursor: ${isToday && !isCompleted ? 'pointer' : 'default'}">
            <div class="program-icon">
              <i class="fas ${workout.type === 'rest' ? 'fa-bed' : 
                             workout.type === 'cardio' ? 'fa-heartbeat' : 
                             workout.type === 'skill' ? 'fa-star' : 'fa-dumbbell'}"></i>
            </div>
            <h3 class="program-title">${workout.name[currentLanguage]}</h3>
            <p class="program-desc">
              ${isToday ? `<strong>${currentLanguage === 'ru' ? 'Сегодня!' : 'Today!'}</strong> ` : ''}
              ${isCompleted ? `<span style="color: var(--success);"><i class="fas fa-check"></i> ${currentLanguage === 'ru' ? 'Выполнено' : 'Completed'}</span>` : ''}
              ${workout.type === 'rest' ? 
                (currentLanguage === 'ru' ? 'День отдыха' : 'Rest day') : 
                workout.location === 'street' ? 
                (currentLanguage === 'ru' ? 'Уличная тренировка' : 'Street workout') : 
                (currentLanguage === 'ru' ? 'Домашняя тренировка' : 'Home workout')}
            </p>
            <div class="program-features">
              <span class="program-feature">${workout.duration} ${currentLanguage === 'ru' ? 'мин' : 'min'}</span>
              <span class="program-feature">${workout.type === 'upper' ? t('upperBody') : 
                                               workout.type === 'lower' ? t('lowerBody') : 
                                               workout.type === 'full' ? t('fullBody') : 
                                               workout.type === 'skill' ? t('skill') : 
                                               workout.type === 'cardio' ? t('cardio') : 
                                               t('rest')}</span>
              <span class="program-feature">${currentLanguage === 'ru' ? 'День' : 'Day'} ${day}</span>
            </div>
          </div>
        `;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${program.name[currentLanguage]}</h2>
          <p class="section-subtitle">${program.description[currentLanguage]} - 90 ${currentLanguage === 'ru' ? 'дней трансформации' : 'days transformation'}</p>
          
          <div class="program-cards">
            ${workoutsHTML}
          </div>
          
          <div style="text-align: center; margin-top: 50px;">
            <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
              <i class="fas fa-home"></i> ${t('goHome')}
            </button>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showPrograms() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ВЫБЕРИТЕ ПРОГРАММУ' : 'CHOOSE YOUR PROGRAM'}</h2>
          <p class="section-subtitle">${currentLanguage === 'ru' ? 'Все программы 100% БЕСПЛАТНЫ и научно обоснованы' : 'All programs are 100% FREE and scientifically proven'}</p>
          
          <div class="program-cards">
            <div class="program-card" onclick="selectProgram('street')">
              <div class="program-icon">
                <i class="fas fa-tree"></i>
              </div>
              <h3 class="program-title">STREET SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Продвинутая программа с использованием турников и брусьев. Постройте невероятную силу и мышечную массу с уличным оборудованием.' :
                  'Advanced program using pull-up bars and parallel bars. Build incredible strength and muscle mass with street equipment.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Подтягивания & Отжимания' : 'Pull-ups & Dips'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Выходы силой' : 'Muscle-ups'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Стойка на руках' : 'Handstand'}</span>
              </div>
            </div>
            
            <div class="program-card" onclick="selectProgram('home')">
              <div class="program-icon">
                <i class="fas fa-home"></i>
              </div>
              <h3 class="program-title">HOME SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Полная домашняя программа, не требующая оборудования. Идеально для новичков и тех, у кого мало места.' :
                  'Complete home program requiring no equipment. Perfect for beginners and those with limited space.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Без оборудования' : 'No equipment'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Для новичков' : 'For beginners'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Все тело' : 'Full body'}</span>
              </div>
            </div>
            
            <div class="program-card" onclick="selectProgram('hybrid')">
              <div class="program-icon">
                <i class="fas fa-sync-alt"></i>
              </div>
              <h3 class="program-title">HYBRID SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Сочетает уличные и домашние тренировки для максимальных результатов. Чередуйте тяжелые сессии и восстановительные тренировки.' :
                  'Combines street and home workouts for maximum results. Alternate heavy sessions and recovery workouts.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Оптимальное восстановление' : 'Optimal recovery'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Макс. сила' : 'Max strength'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Сбалансированный прогресс' : 'Balanced progress'}</span>
              </div>
            </div>
          </div>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 50px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 25px; font-size: 1.8rem;">
              <i class="fas fa-lightbulb"></i> ${currentLanguage === 'ru' ? 'Совет по выбору программы' : 'Program selection advice'}
            </h3>
            <p style="color: var(--ice); text-align: center; margin-bottom: 30px; font-size: 1.3rem; line-height: 1.7;">
              ${currentLanguage === 'ru' ? 
                'Выберите <strong>Street Surfer</strong> если у вас есть доступ к турникам. <strong>Home Surfer</strong> если нет оборудования. <strong>Hybrid Surfer</strong> для лучшего из обоих миров. Вы можете сменить программу в любое время!' :
                'Choose <strong>Street Surfer</strong> if you have access to pull-up bars. <strong>Home Surfer</strong> if you have no equipment. <strong>Hybrid Surfer</strong> for the best of both worlds. You can change programs anytime!'}
            </p>
            
            <div style="text-align: center; margin-top: 40px;">
              <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
                <i class="fas fa-dumbbell"></i> ${t('startWorkout')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function selectProgram(programType) {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      currentUser.currentProgram = programType;
      currentUser.programDay = 1;
      currentUser.completedDays = [];
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
      
      alert(currentLanguage === 'ru' ? 
        `Программа изменена на ${programType === 'street' ? 'Street Surfer' : programType === 'home' ? 'Home Surfer' : 'Hybrid Surfer'}` :
        `Program changed to ${programType === 'street' ? 'Street Surfer' : programType === 'home' ? 'Home Surfer' : 'Hybrid Surfer'}`
      );
      showDashboard();
    }
    
    function showNutrition() {
      document.getElementById('mainContent').innerHTML = `
        <div class="nutrition-tips">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ПИТАНИЕ ДЛЯ РОСТА МЫШЦ' : 'NUTRITION FOR MUSCLE GROWTH'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Заряжайте свои тренировки и максимизируйте результаты с этими научно обоснованными стратегиями питания' :
              'Fuel your workouts and maximize results with these scientifically proven nutrition strategies'}
          </p>
          
          <div class="details-grid">
            <div class="detail-item">
              <h4><i class="fas fa-drumstick-bite"></i> ${currentLanguage === 'ru' ? 'Время приема белка' : 'Protein timing'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Употребляйте 30-40г белка в течение 1 часа после тренировки для оптимального роста мышц.' :
                  'Consume 30-40g of protein within 1 hour after workout for optimal muscle growth.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-tint"></i> ${currentLanguage === 'ru' ? 'Гидратация' : 'Hydration'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Пейте 3-4 литра воды ежедневно. Обезвоживание снижает силу до 20%.' :
                  'Drink 3-4 liters of water daily. Dehydration reduces strength by up to 20%.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-apple-alt"></i> ${currentLanguage === 'ru' ? 'До тренировки' : 'Pre-workout'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Ешьте сложные углеводы за 2-3 часа до тренировки для устойчивой энергии.' :
                  'Eat complex carbohydrates 2-3 hours before workout for sustained energy.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-egg"></i> ${currentLanguage === 'ru' ? 'После тренировки' : 'Post-workout'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Быстроусвояемый белка с простыми углеводами для восполнения гликогена.' :
                  'Fast-digesting protein with simple carbohydrates to replenish glycogen.'}
              </p>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showAchievements() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ВАШИ ДОСТИЖЕНИЯ' : 'YOUR ACHIEVEMENTS'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Отслеживайте прогресс и разблокируйте награды' :
              'Track your progress and unlock rewards'}
          </p>
          
          <div class="details-grid">
            <div class="detail-item">
              <h4><i class="fas fa-fire"></i> ${t('currentStreak')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.streak} ${currentLanguage === 'ru' ? 'дней подряд' : 'days in a row'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-dumbbell"></i> ${t('workoutsCompleted')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.completedWorkouts} ${currentLanguage === 'ru' ? 'сессий' : 'sessions'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-clock"></i> ${t('totalMinutes')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.totalMinutes} ${currentLanguage === 'ru' ? 'минут' : 'minutes'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-star"></i> ${currentLanguage === 'ru' ? 'Текущий уровень' : 'Current level'}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${t('level')} ${currentUser.level}</p>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showSettings() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'НАСТРОЙКИ ПРОФИЛЯ' : 'PROFILE SETTINGS'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Настройте свой тренировочный опыт' :
              'Customize your training experience'}
          </p>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 40px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 30px; font-size: 2rem;">
              <i class="fas fa-user-cog"></i> ${currentLanguage === 'ru' ? 'Настройки аккаунта' : 'Account Settings'}
            </h3>
            
            <div style="max-width: 500px; margin: 0 auto;">
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-user"></i> ${currentLanguage === 'ru' ? 'Ваше имя' : 'Your name'}
                </h4>
                <input type="text" id="userName" value="${currentUser.username}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem; font-weight: 600;">
              </div>
              
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-lock"></i> ${currentLanguage === 'ru' ? 'Сменить пароль' : 'Change password'}
                </h4>
                <input type="password" id="newPassword" placeholder="${currentLanguage === 'ru' ? 'Новый пароль (оставьте пустым, если не хотите менять)' : 'New password (leave empty if not changing)'}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem; margin-bottom: 15px;">
                <input type="password" id="confirmNewPassword" placeholder="${currentLanguage === 'ru' ? 'Подтвердите новый пароль' : 'Confirm new password'}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem;">
              </div>
              
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-language"></i> ${t('changeLanguage')}
                </h4>
                <div class="language-selector-settings">
                  <button class="lang-btn-settings ${currentLanguage === 'ru' ? 'active' : ''}" onclick="setLanguage('ru')">
                    <i class="fas fa-language"></i> ${t('russian')}
                  </button>
                  <button class="lang-btn-settings ${currentLanguage === 'en' ? 'active' : ''}" onclick="setLanguage('en')">
                    <i class="fas fa-language"></i> ${t('english')}
                  </button>
                </div>
              </div>
              
              <div style="text-align: center; margin-top: 50px;">
                <button class="btn btn-primary" onclick="saveSettings()" style="font-size: 1.3rem; padding: 20px 45px; margin-right: 20px;">
                  <i class="fas fa-save"></i> ${t('saveSettings')}
                </button>
                <button class="btn btn-secondary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
                  <i class="fas fa-times"></i> ${t('cancel')}
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function saveSettings() {
      const userNameInput = document.getElementById('userName');
      const newPasswordInput = document.getElementById('newPassword');
      const confirmNewPasswordInput = document.getElementById('confirmNewPassword');
      
      let changed = false;
      
      if (userNameInput && userNameInput.value.trim()) {
        currentUser.username = userNameInput.value.trim();
        changed = true;
      }
      
      if (newPasswordInput && newPasswordInput.value) {
        if (newPasswordInput.value.length < 6) {
          alert(currentLanguage === 'ru' ? 'Новый пароль должен быть не менее 6 символов' : 'New password must be at least 6 characters');
          return;
        }
        
        if (newPasswordInput.value !== confirmNewPasswordInput.value) {
          alert(currentLanguage === 'ru' ? 'Пароли не совпадают' : 'Passwords do not match');
          return;
        }
        
        currentUser.passwordHash = hashPassword(newPasswordInput.value);
        changed = true;
      }
      
      if (changed) {
        saveCurrentUser();
        usersDB[currentUser.id] = currentUser;
        saveUsersDB();
        updateNavigation();
        alert(currentLanguage === 'ru' ? 'Настройки сохранены успешно!' : 'Settings saved successfully!');
        showDashboard();
      } else {
        showDashboard();
      }
    }
    
    // ==================== MOBILE MENU ====================
    
    function closeMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu) {
        mobileMenu.style.display = 'none';
      }
    }
    
    // Переключение мобильного меню
    document.getElementById('menuToggle').addEventListener('click', function(event) {
      event.stopPropagation();
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu.style.display === 'block') {
        mobileMenu.style.display = 'none';
      } else {
        mobileMenu.style.display = 'block';
      }
    });
    
    // Закрытие мобильного меню при клике снаружи
    document.addEventListener('click', function(event) {
      const mobileMenu = document.getElementById('mobileMenu');
      const menuToggle = document.getElementById('menuToggle');
      
      if (mobileMenu && mobileMenu.style.display === 'block' && 
          !mobileMenu.contains(event.target) && 
          !menuToggle.contains(event.target)) {
        mobileMenu.style.display = 'none';
      }
    });
    
    // ==================== INITIALIZE ====================
    
    window.onload = function() {
      // Загружаем сохраненный язык
      const savedLanguage = localStorage.getItem('silverSurferLanguage');
      if (savedLanguage) {
        currentLanguage = savedLanguage;
      }
      
      loadUsersDB();
      loadCurrentUser();
      createParticles();
      initScrollHeader();
      
      // Устанавливаем язык и обновляем навигацию
      updatePageLanguage();
      
      if (currentUser) {
        showDashboard();
      } else {
        showHome();
      }
    };
  </script>
</body>
</html>
HTMLCODE<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Silver Surfer - Free Bodyweight & Calisthenics Training</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #1e90ff;
      --primary-dark: #0d6efd;
      --secondary: #00bfff;
      --accent: #87ceeb;
      --accent-light: #b0e0e6;
      --dark: #0a1f3a;
      --darker: #072340;
      --darkest: #051428;
      --light: #ffffff;
      --light-gray: #f8f9fa;
      --ice: #e6f3ff;
      --polar: #b0e0e6;
      --success: #32cd32;
      --success-dark: #28a428;
      --warning: #ffd700;
      --danger: #ff4500;
      --storm: #1c2d4a;
      --silver: #c0c0c0;
      --silver-light: #d9d9d9;
      --neon-blue: #00ffff;
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
      --gradient-dark: linear-gradient(135deg, var(--darker), var(--dark));
      --gradient-silver: linear-gradient(135deg, var(--silver), var(--accent-light));
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.3);
      --shadow-xl: 0 30px 60px rgba(0, 0, 0, 0.4);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Montserrat', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--darkest) 0%, var(--darker) 30%, var(--dark) 100%);
      color: var(--light);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      line-height: 1.6;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(30, 144, 255, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(0, 191, 255, 0.05) 0%, transparent 20%),
        linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.02) 50%, transparent 70%);
      pointer-events: none;
      z-index: -1;
    }

    /* Floating shapes animation */
    .floating-shapes {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: 0.5;
    }

    .floating-shapes div {
      position: absolute;
      border-radius: 50%;
      background: var(--gradient-silver);
      opacity: 0.1;
      filter: blur(20px);
      animation: floatShape 25s infinite linear;
    }

    .floating-shapes div:nth-child(1) {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
      background: var(--gradient-primary);
    }

    .floating-shapes div:nth-child(2) {
      width: 200px;
      height: 200px;
      top: 60%;
      right: 10%;
      animation-delay: 10s;
      animation-duration: 20s;
      background: var(--gradient-silver);
    }

    .floating-shapes div:nth-child(3) {
      width: 150px;
      height: 150px;
      bottom: 20%;
      left: 20%;
      animation-delay: 5s;
      animation-duration: 30s;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
    }

    @keyframes floatShape {
      0%, 100% {
        transform: translate(0, 0) rotate(0deg) scale(1);
        opacity: 0.1;
      }
      33% {
        transform: translate(30px, 50px) rotate(120deg) scale(1.1);
        opacity: 0.15;
      }
      66% {
        transform: translate(-20px, 30px) rotate(240deg) scale(0.9);
        opacity: 0.05;
      }
    }

    /* Particle background */
    .particles {
      position: fixed;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      background: var(--silver);
      border-radius: 50%;
      opacity: 0.1;
      animation: floatParticle 20s infinite linear;
    }

    @keyframes floatParticle {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.1;
      }
      90% {
        opacity: 0.1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background: rgba(7, 35, 64, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      border-bottom: 2px solid var(--silver);
      padding: 15px 0;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    header.scrolled {
      padding: 10px 0;
      background: rgba(7, 35, 64, 0.98);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: var(--gradient-silver);
      border-radius: 50%;
      animation: pulseGlow 3s infinite;
      box-shadow: 0 0 20px var(--silver);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-icon::after {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--silver);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--silver-light);
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--light);
      font-family: 'Montserrat', sans-serif;
      letter-spacing: 2px;
      text-shadow: 0 0 15px rgba(192, 192, 192, 0.5);
      background: linear-gradient(to right, var(--silver), var(--accent-light), var(--silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: textShimmer 3s infinite linear;
    }

    @keyframes textShimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    @keyframes pulseGlow {
      0%, 100% { 
        transform: scale(1); 
        box-shadow: 0 0 20px var(--silver);
      }
      50% { 
        transform: scale(1.05); 
        box-shadow: 0 0 30px var(--silver-light), 0 0 40px rgba(192, 192, 192, 0.3);
      }
    }

    .nav-menu {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .nav-item {
      color: var(--ice);
      font-weight: 600;
      font-size: 0.9rem;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s;
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 20px;
      border: 1px solid transparent;
      position: relative;
      overflow: hidden;
      white-space: nowrap;
    }

    .nav-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.7s;
    }

    .nav-item:hover::before {
      left: 100%;
    }

    .nav-item:hover {
      color: var(--light);
      background: rgba(30, 144, 255, 0.15);
      border-color: var(--silver);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.2);
    }

    .user-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .level-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--gradient-primary);
      padding: 6px 15px;
      border-radius: 50px;
      color: white;
      font-weight: 700;
      font-size: 0.8rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--silver);
      animation: badgePulse 2s infinite;
      white-space: nowrap;
    }

    @keyframes badgePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .menu-toggle {
      display: none;
      color: var(--ice);
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.5rem;
      padding: 8px;
      border-radius: 10px;
      transition: all 0.3s;
      background: rgba(30, 144, 255, 0.1);
    }

    .menu-toggle:hover {
      color: var(--silver);
      background: rgba(30, 144, 255, 0.2);
    }

    .mobile-menu {
      display: none;
      background: rgba(7, 35, 64, 0.98);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      z-index: 999;
      padding: 20px;
      border-bottom: 2px solid var(--silver);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .mobile-menu .nav-item {
      display: block;
      width: 100%;
      padding: 15px 20px;
      text-align: left;
      color: var(--ice);
      font-weight: 600;
      background: none;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s;
      margin-bottom: 10px;
      border-radius: 12px;
      border: 1px solid transparent;
    }

    .mobile-menu .nav-item:hover {
      color: var(--light);
      background: rgba(30, 144, 255, 0.2);
      border-color: var(--silver);
    }

    /* Main Content */
    main {
      padding-top: 100px;
      min-height: calc(100vh - 200px);
    }

    /* Home Screen */
    .home-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 90vh;
      position: relative;
      overflow: hidden;
      padding: 40px 20px;
      text-align: center;
    }

    .home-content {
      text-align: center;
      z-index: 10;
      padding: 60px 50px;
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.2);
      box-shadow: 
        var(--shadow-xl),
        inset 0 0 50px rgba(30, 144, 255, 0.1);
      max-width: 900px;
      animation: contentFloat 8s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    @keyframes contentFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-15px) scale(1.01); }
    }

    .home-content::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.05) 50%, transparent 70%);
      animation: shimmerBG 25s infinite linear;
      z-index: -1;
    }

    @keyframes shimmerBG {
      0% { transform: translateX(-50%) translateY(-50%) rotate(0deg); }
      100% { transform: translateX(-50%) translateY(-50%) rotate(360deg); }
    }

    .home-title {
      font-size: 4.5rem;
      font-weight: 900;
      margin-bottom: 20px;
      background: linear-gradient(135deg, var(--silver) 0%, var(--accent-light) 50%, var(--silver) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Montserrat', sans-serif;
      text-shadow: 0 0 40px rgba(135, 206, 235, 0.3);
      position: relative;
      z-index: 2;
      animation: titleGlow 4s infinite alternate;
      letter-spacing: 3px;
    }

    @keyframes titleGlow {
      0% { text-shadow: 0 0 40px rgba(135, 206, 235, 0.3); }
      100% { text-shadow: 0 0 60px rgba(135, 206, 235, 0.5), 0 0 80px rgba(192, 192, 192, 0.3); }
    }

    .tagline {
      font-size: 1.4rem;
      color: var(--silver);
      font-style: italic;
      margin-bottom: 30px;
      position: relative;
      z-index: 2;
      padding: 15px 0;
      display: inline-block;
      letter-spacing: 1.5px;
      font-weight: 300;
      text-shadow: 0 0 15px rgba(192, 192, 192, 0.4);
      border-top: 1px solid rgba(192, 192, 192, 0.3);
      border-bottom: 1px solid rgba(192, 192, 192, 0.3);
    }

    .home-subtitle {
      font-size: 1.6rem;
      color: var(--ice);
      margin-bottom: 50px;
      line-height: 1.6;
      font-weight: 300;
      position: relative;
      z-index: 2;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 20px;
    }

    .home-buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      position: relative;
      z-index: 2;
    }

    .btn {
      padding: 18px 45px;
      color: var(--light);
      font-weight: 700;
      font-size: 1.2rem;
      border: none;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border-radius: 50px;
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 220px;
      justify-content: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.7s;
      z-index: -1;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:hover {
      transform: translateY(-8px) scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    .btn-glow {
      animation: btnPulse 3s infinite;
    }

    @keyframes btnPulse {
      0% { 
        box-shadow: var(--shadow), 0 0 0 0 rgba(30, 144, 255, 0.5); 
      }
      70% { 
        box-shadow: var(--shadow), 0 0 0 20px rgba(30, 144, 255, 0); 
      }
      100% { 
        box-shadow: var(--shadow), 0 0 0 0 rgba(30, 144, 255, 0); 
      }
    }

    /* Auth Forms */
    .auth-form {
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 50px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.2);
      box-shadow: var(--shadow-xl);
      max-width: 500px;
      margin: 0 auto;
      animation: formAppear 0.5s ease-out;
    }

    @keyframes formAppear {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .form-title {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--light);
      text-align: center;
      margin-bottom: 40px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .form-group {
      margin-bottom: 30px;
    }

    .form-label {
      display: block;
      color: var(--ice);
      margin-bottom: 10px;
      font-weight: 600;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .form-input {
      width: 100%;
      padding: 18px 22px;
      background: rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(192, 192, 192, 0.3);
      border-radius: 15px;
      color: var(--light);
      font-size: 1.1rem;
      transition: all 0.3s;
      font-family: inherit;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(135, 206, 235, 0.2);
      background: rgba(0, 0, 0, 0.3);
    }

    .form-actions {
      display: flex;
      gap: 20px;
      margin-top: 40px;
    }

    .form-link {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      display: block;
      margin-top: 25px;
      padding: 12px;
      border-radius: 10px;
    }

    .form-link:hover {
      color: var(--silver);
      background: rgba(30, 144, 255, 0.1);
      text-decoration: none;
    }

    /* Dashboard */
    .dashboard {
      padding: 40px 20px;
    }

    .dashboard-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 40px;
      color: var(--light);
      text-align: center;
      text-shadow: 0 0 20px var(--primary);
      position: relative;
      animation: titleFloat 6s ease-in-out infinite;
    }

    @keyframes titleFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .dashboard-title::after {
      content: '';
      display: block;
      width: 120px;
      height: 5px;
      background: var(--gradient-silver);
      margin: 20px auto;
      border-radius: 5px;
      animation: linePulse 3s infinite;
    }

    @keyframes linePulse {
      0%, 100% { opacity: 1; transform: scaleX(1); }
      50% { opacity: 0.8; transform: scaleX(1.1); }
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }

    .stat-card {
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 35px;
      border-radius: 25px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      text-align: center;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .stat-card:hover {
      transform: translateY(-12px) scale(1.03);
      border-color: var(--silver);
      box-shadow: var(--shadow-xl);
    }

    .stat-icon {
      color: var(--accent);
      margin-bottom: 25px;
      font-size: 3.2rem;
      filter: drop-shadow(0 0 15px rgba(135, 206, 235, 0.5));
      animation: iconFloat 4s ease-in-out infinite;
    }

    @keyframes iconFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .stat-title {
      font-size: 1.2rem;
      color: var(--ice);
      margin-bottom: 15px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .stat-value {
      font-size: 2.8rem;
      font-weight: 800;
      color: var(--light);
      text-shadow: 0 0 15px var(--primary);
    }

    /* Program Cards */
    .program-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 35px;
      margin-bottom: 60px;
    }

    .program-card {
      background: rgba(7, 35, 64, 0.7);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      padding: 40px;
      border-radius: 30px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      text-align: center;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .program-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .program-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(192, 192, 192, 0.05) 50%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s;
    }

    .program-card:hover::after {
      opacity: 1;
    }

    .program-card:hover {
      transform: translateY(-15px) scale(1.03);
      border-color: var(--silver);
      box-shadow: var(--shadow-xl);
    }

    .program-icon {
      font-size: 3.5rem;
      color: var(--accent);
      margin-bottom: 30px;
      filter: drop-shadow(0 0 20px rgba(135, 206, 235, 0.5));
      transition: transform 0.4s;
    }

    .program-card:hover .program-icon {
      transform: scale(1.2) rotate(10deg);
    }

    .program-title {
      font-size: 2.2rem;
      font-weight: 800;
      color: var(--light);
      margin-bottom: 25px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .program-desc {
      color: var(--ice);
      margin-bottom: 30px;
      line-height: 1.7;
      font-size: 1.2rem;
    }

    .program-features {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .program-feature {
      background: rgba(30, 144, 255, 0.15);
      padding: 12px 22px;
      border-radius: 25px;
      color: var(--accent);
      font-size: 1rem;
      font-weight: 600;
      border: 1px solid rgba(192, 192, 192, 0.2);
      transition: all 0.3s;
    }

    .program-feature:hover {
      background: rgba(30, 144, 255, 0.25);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.2);
    }

    /* Section Styling */
    .section-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 20px;
      color: var(--light);
      text-align: center;
      text-shadow: 0 0 20px var(--primary);
      position: relative;
    }

    .section-title::after {
      content: '';
      display: block;
      width: 120px;
      height: 5px;
      background: var(--gradient-silver);
      margin: 20px auto 30px;
      border-radius: 5px;
    }

    .section-subtitle {
      text-align: center;
      color: var(--ice);
      margin-bottom: 50px;
      font-size: 1.3rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    /* Footer */
    footer {
      background: rgba(7, 35, 64, 0.95);
      padding: 60px 20px;
      border-top: 2px solid var(--silver);
      text-align: center;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      margin-top: 80px;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .footer-logo:hover {
      transform: scale(1.05);
    }

    .footer-logo-icon {
      width: 40px;
      height: 40px;
      background: var(--gradient-silver);
      border-radius: 50%;
      animation: pulseGlow 3s infinite;
      box-shadow: 0 0 20px var(--silver);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .footer-logo-icon::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      background: var(--silver);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--silver-light);
    }

    .footer-logo-text {
      font-size: 2.2rem;
      font-weight: 900;
      color: var(--light);
      font-family: 'Montserrat', sans-serif;
      text-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
      letter-spacing: 2px;
      background: linear-gradient(to right, var(--silver), var(--accent-light), var(--silver));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: textShimmer 3s infinite linear;
    }

    .footer-description {
      font-size: 1.2rem;
      color: var(--ice);
      margin-bottom: 40px;
      text-align: center;
      max-width: 900px;
      line-height: 1.8;
      padding: 0 20px;
    }

    .footer-contact {
      font-size: 1.2rem;
      color: var(--accent);
      margin-bottom: 40px;
      text-align: center;
      cursor: pointer;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.4s;
      display: inline-flex;
      align-items: center;
      gap: 15px;
      padding: 16px 35px;
      border-radius: 50px;
      border: 2px solid var(--accent);
      background: rgba(30, 144, 255, 0.1);
    }

    .footer-contact:hover {
      background: var(--accent);
      color: var(--dark);
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(135, 206, 235, 0.3);
    }

    .footer-copyright {
      font-size: 1rem;
      color: var(--ice);
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(192, 192, 192, 0.3);
      width: 100%;
      font-weight: 300;
    }

    /* Details Grid */
    .details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }

    .detail-item {
      background: rgba(30, 144, 255, 0.15);
      padding: 30px;
      border-radius: 25px;
      border-left: 5px solid var(--silver);
      transition: all 0.4s;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .detail-item:hover {
      transform: translateY(-8px);
      background: rgba(30, 144, 255, 0.25);
      box-shadow: var(--shadow);
    }

    /* Workout Screen */
    .workout-screen {
      padding: 40px 20px;
    }

    .workout-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 50px;
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 30px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      box-shadow: var(--shadow-lg);
      flex-wrap: wrap;
      gap: 20px;
    }

    .back-btn {
      color: var(--ice);
      background: rgba(30, 144, 255, 0.2);
      border: 2px solid var(--silver);
      padding: 16px 32px;
      border-radius: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      transition: all 0.4s;
      font-size: 1.2rem;
    }

    .back-btn:hover {
      background: var(--primary);
      transform: translateX(-5px) scale(1.05);
      box-shadow: 0 15px 30px rgba(30, 144, 255, 0.3);
    }

    /* Exercise Container */
    .exercise-container {
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 40px;
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      text-align: center;
      margin-bottom: 50px;
      box-shadow: var(--shadow-xl);
      position: relative;
      overflow: hidden;
    }

    .exercise-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-silver);
    }

    /* Exercise Progress */
    .exercise-progress {
      margin: 40px 0;
    }

    .exercise-steps {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin: 40px 0;
      flex-wrap: wrap;
    }

    .exercise-step {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      background: rgba(30, 144, 255, 0.2);
      color: var(--ice);
      border: 2px solid rgba(192, 192, 192, 0.3);
      transition: all 0.3s;
      font-size: 1.1rem;
    }

    .exercise-step.active {
      background: var(--gradient-primary);
      color: white;
      border-color: var(--silver);
      transform: scale(1.2);
      box-shadow: 0 0 20px rgba(30, 144, 255, 0.5);
    }

    .exercise-step.completed {
      background: var(--success);
      color: white;
      border-color: var(--success);
      box-shadow: 0 0 15px rgba(50, 205, 50, 0.5);
    }

    /* Current Exercise Display */
    .current-exercise {
      background: rgba(30, 144, 255, 0.15);
      padding: 45px;
      border-radius: 25px;
      margin: 50px 0;
      border: 2px solid rgba(192, 192, 192, 0.2);
      position: relative;
      overflow: hidden;
      animation: exerciseAppear 0.6s ease-out;
    }

    @keyframes exerciseAppear {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .current-exercise h3 {
      font-size: 2.5rem;
      color: var(--light);
      margin-bottom: 25px;
      background: linear-gradient(to right, var(--silver), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .exercise-details-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 25px;
      margin: 40px 0;
    }

    .exercise-detail-card {
      background: rgba(7, 35, 64, 0.6);
      padding: 25px;
      border-radius: 20px;
      border: 1px solid rgba(192, 192, 192, 0.2);
      text-align: center;
      transition: transform 0.3s;
    }

    .exercise-detail-card:hover {
      transform: translateY(-5px);
    }

    .exercise-detail-card h4 {
      color: var(--accent);
      margin-bottom: 15px;
      font-size: 1.1rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }

    .exercise-detail-card p {
      color: var(--light);
      font-size: 1.8rem;
      font-weight: 700;
    }

    .exercise-description {
      background: rgba(0, 0, 0, 0.2);
      padding: 25px;
      border-radius: 20px;
      margin: 40px 0;
      border-left: 5px solid var(--accent);
    }

    .exercise-description p {
      color: var(--ice);
      font-size: 1.2rem;
      line-height: 1.7;
    }

    /* Technique Guide */
    .technique-guide {
      background: rgba(7, 35, 64, 0.9);
      padding: 30px;
      border-radius: 20px;
      margin: 40px 0;
      border: 2px solid var(--silver);
      box-shadow: var(--shadow);
    }

    .technique-guide h4 {
      color: var(--accent);
      margin-bottom: 20px;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .technique-steps {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .technique-step {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      background: rgba(30, 144, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      transition: transform 0.3s;
    }

    .technique-step:hover {
      transform: translateX(5px);
      background: rgba(30, 144, 255, 0.15);
    }

    .step-number {
      background: var(--gradient-primary);
      color: white;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
      font-size: 1.1rem;
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
    }

    .step-description {
      color: var(--ice);
      flex: 1;
      line-height: 1.7;
      font-size: 1.1rem;
    }

    /* Timer Styles */
    .timer-container {
      margin: 40px 0;
      padding: 25px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 20px;
      border: 2px solid var(--silver);
      box-shadow: var(--shadow);
    }

    .timer-display {
      font-size: 4rem;
      font-weight: 800;
      color: var(--light);
      text-shadow: 0 0 20px var(--primary);
      margin: 30px 0;
      font-family: 'Courier New', monospace;
      letter-spacing: 2px;
    }

    .timer-controls {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-top: 30px;
    }

    .timer-btn {
      padding: 15px 30px;
      border-radius: 50px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 140px;
      justify-content: center;
      font-size: 1.1rem;
    }

    .timer-btn-start {
      background: linear-gradient(135deg, var(--success), var(--success-dark));
      color: white;
    }

    .timer-btn-pause {
      background: linear-gradient(135deg, var(--warning), #daa520);
      color: white;
    }

    .timer-btn-reset {
      background: linear-gradient(135deg, var(--danger), #b22222);
      color: white;
    }

    .timer-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    /* Progress Bar */
    .progress-container {
      margin: 40px 0;
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      color: var(--ice);
      font-weight: 600;
      font-size: 1.1rem;
    }

    .progress-bar {
      height: 15px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 10px;
      transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmerProgress 2s infinite;
    }

    @keyframes shimmerProgress {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 25px;
      justify-content: center;
      margin: 50px 0;
      flex-wrap: wrap;
    }

    /* Next Day Button */
    .next-day-btn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      padding: 18px 45px;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.4s;
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 30px auto;
      box-shadow: var(--shadow);
    }

    .next-day-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    /* Completion Screen */
    .completion-screen {
      text-align: center;
      padding: 60px;
      background: rgba(7, 35, 64, 0.8);
      backdrop-filter: blur(20px);
      border-radius: 30px;
      border: 2px solid rgba(192, 192, 192, 0.3);
      box-shadow: var(--shadow-xl);
    }

    .completion-icon {
      font-size: 6rem;
      color: var(--success);
      margin-bottom: 30px;
      animation: successPulse 2s infinite;
    }

    @keyframes successPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Language selector in settings */
    .language-selector-settings {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      padding: 15px;
      background: rgba(30, 144, 255, 0.1);
      border-radius: 15px;
      border: 1px solid rgba(192, 192, 192, 0.2);
    }

    .lang-btn-settings {
      flex: 1;
      background: rgba(7, 35, 64, 0.7);
      border: 2px solid rgba(192, 192, 192, 0.3);
      color: var(--ice);
      font-weight: 600;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .lang-btn-settings:hover {
      background: rgba(30, 144, 255, 0.2);
      transform: translateY(-2px);
    }

    .lang-btn-settings.active {
      background: var(--gradient-primary);
      color: white;
      border-color: var(--silver);
      box-shadow: 0 5px 15px rgba(30, 144, 255, 0.3);
    }

    /* Responsive Design */
    @media (max-width: 1100px) {
      .home-title {
        font-size: 3.5rem;
      }
      
      .section-title {
        font-size: 2.3rem;
      }
      
      .program-cards {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .timer-display {
        font-size: 3.2rem;
      }
    }

    @media (max-width: 900px) {
      .nav-menu {
        display: none;
      }
      
      .user-actions {
        display: none;
      }
      
      .menu-toggle {
        display: block;
      }
      
      .home-title {
        font-size: 3rem;
      }
      
      .home-subtitle {
        font-size: 1.4rem;
      }
      
      .btn {
        padding: 16px 35px;
        font-size: 1.1rem;
        min-width: 200px;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .program-cards {
        grid-template-columns: 1fr;
      }
      
      .workout-header {
        flex-direction: column;
        text-align: center;
        gap: 25px;
      }
      
      .timer-display {
        font-size: 2.8rem;
      }
      
      .action-buttons {
        flex-direction: column;
        align-items: center;
      }
    }

    @media (max-width: 768px) {
      .home-title {
        font-size: 2.5rem;
      }
      
      .home-content {
        padding: 40px 30px;
      }
      
      .home-buttons {
        flex-direction: column;
        align-items: stretch;
      }
      
      .btn {
        width: 100%;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .timer-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .timer-btn {
        width: 100%;
        max-width: 280px;
      }
      
      .current-exercise h3 {
        font-size: 2rem;
      }
      
      .exercise-detail-card p {
        font-size: 1.5rem;
      }
    }

    @media (max-width: 576px) {
      .home-title {
        font-size: 2.2rem;
      }
      
      .home-subtitle {
        font-size: 1.2rem;
      }
      
      .section-title {
        font-size: 2rem;
      }
      
      .section-subtitle {
        font-size: 1.1rem;
      }
      
      .timer-display {
        font-size: 2.5rem;
      }
      
      .auth-form {
        padding: 30px 20px;
      }
      
      .form-title {
        font-size: 2rem;
      }
      
      .exercise-step {
        width: 40px;
        height: 40px;
      }
    }

    @media (max-width: 400px) {
      .home-title {
        font-size: 2rem;
      }
      
      .home-subtitle {
        font-size: 1.1rem;
      }
      
      .btn {
        padding: 15px 25px;
        font-size: 1rem;
      }
      
      .exercise-step {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
      
      .logo-text {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Floating background shapes -->
  <div class="floating-shapes">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <!-- Header -->
  <header id="mainHeader">
    <div class="header-content container">
      <div class="logo" onclick="showHome()">
        <div class="logo-icon"></div>
        <div class="logo-text">SILVER SURFER</div>
      </div>
      
      <div class="nav-menu" id="navMenu">
        <!-- Навигация будет обновляться динамически -->
      </div>
      
      <div class="user-actions" id="userActions">
        <!-- Действия пользователя будут обновляться динамически -->
      </div>
      
      <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    
    <div class="mobile-menu" id="mobileMenu">
      <!-- Мобильное меню будет обновляться динамически -->
    </div>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="container">
    <!-- Содержимое будет обновляться динамически -->
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-logo" onclick="showHome()">
        <div class="footer-logo-icon"></div>
        <div class="footer-logo-text">SILVER SURFER</div>
      </div>
      <p class="footer-description" id="footerDescription">
        Silver Surfer Fitness - Your ultimate FREE bodyweight and calisthenics training platform. 
        Transform your body with professional 90-day programs using street workout equipment and bodyweight exercises.
      </p>
      
      <a class="footer-contact" href="mailto:denialrikruts@gmail.com">
        <i class="fas fa-envelope"></i> <span id="footerContactText">Need Help? Contact Support: denialrikruts@gmail.com</span>
      </a>
      <div class="footer-copyright" id="footerCopyright">
        © 2024 Silver Surfer Fitness. All rights reserved. | "Ride the Wave of Fitness" 
      </div>
    </div>
  </footer>

  <script>
    // ==================== LANGUAGE SYSTEM ====================
    const translations = {
      ru: {
        // Home page
        tagline: "Покори Волну Фитнеса",
        subtitle: "Преобразуй свое тело с уличными тренировками и калистеникой",
        startFree: "НАЧАТЬ БЕСПЛАТНО",
        login: "ВОЙТИ В АККАУНТ",
        
        // Auth
        loginTitle: "Вход в аккаунт",
        registerTitle: "Регистрация",
        username: "Имя пользователя",
        password: "Пароль",
        confirmPassword: "Подтвердите пароль",
        chooseProgram: "Выберите программу",
        loginBtn: "ВОЙТИ",
        registerBtn: "СОЗДАТЬ АККАУНТ",
        noAccount: "Нет аккаунта? Зарегистрируйтесь",
        haveAccount: "Уже есть аккаунт? Войдите",
        backHome: "Назад на главную",
        
        // Programs
        hybridProgram: "HYBRID SURFER (Гибридная)",
        streetProgram: "STREET SURFER (Уличная)",
        homeProgram: "HOME SURFER (Домашняя)",
        
        // Dashboard
        welcome: "Добро пожаловать",
        currentStreak: "Текущая серия",
        workoutsCompleted: "Тренировок выполнено",
        totalMinutes: "Всего минут",
        achievements: "Достижения",
        dayXof90: "День {day} из 90",
        todaysWorkout: "Сегодняшняя тренировка",
        startWorkout: "Начать тренировку",
        allWorkouts: "Все тренировки",
        workoutType: "Тип тренировки",
        duration: "Длительность",
        location: "Место",
        upperBody: "Верх тела",
        lowerBody: "Низ тела",
        fullBody: "Все тело",
        skill: "Навыки",
        cardio: "Кардио",
        rest: "Отдых",
        street: "Турники/Брусья",
        home: "Дома",
        any: "Любое",
        
        // Navigation
        home: "Главная",
        programs: "Программы",
        todaysTraining: "Сегодня",
        nutrition: "Питание",
        achievementsNav: "Достижения",
        settings: "Настройки",
        logout: "Выйти",
        level: "Уровень",
        language: "Язык",
        
        // Workout
        back: "Назад",
        progress: "Прогресс",
        sets: "Подходы",
        reps: "Повторения",
        restTime: "Отдых",
        technique: "Техника выполнения",
        completeExercise: "Завершить упражнение",
        completeWorkout: "Завершить тренировку",
        next: "Далее",
        previous: "Назад",
        startTimer: "Старт",
        pauseTimer: "Пауза",
        resetTimer: "Сброс",
        workoutComplete: "Тренировка завершена!",
        greatJob: "Отличная работа!",
        completedIn: "Вы завершили",
        nextWorkout: "Следующая тренировка",
        goHome: "На главную",
        
        // Settings
        changeLanguage: "Сменить язык",
        russian: "Русский",
        english: "English",
        saveSettings: "Сохранить настройки",
        cancel: "Отмена",
        
        // Footer
        footerDesc: "Silver Surfer Fitness - Ваша лучшая БЕСПЛАТНАЯ платформа для тренировок с весом тела и калистеники. Преобразуйте свое тело с профессиональными 90-дневными программами.",
        contactText: "Нужна помощь? Свяжитесь с поддержкой: denialrikruts@gmail.com",
        copyright: "© 2024 Silver Surfer Fitness. Все права защищены. | 'Покори Волну Фитнеса'"
      },
      
      en: {
        // Home page
        tagline: "Ride the Wave of Fitness",
        subtitle: "Transform Your Body with Street Workouts & Calisthenics",
        startFree: "START FREE",
        login: "LOG IN",
        
        // Auth
        loginTitle: "Login",
        registerTitle: "Register",
        username: "Username",
        password: "Password",
        confirmPassword: "Confirm Password",
        chooseProgram: "Choose Program",
        loginBtn: "LOGIN",
        registerBtn: "CREATE ACCOUNT",
        noAccount: "No account? Register",
        haveAccount: "Already have an account? Login",
        backHome: "Back to Home",
        
        // Programs
        hybridProgram: "HYBRID SURFER (Hybrid)",
        streetProgram: "STREET SURFER (Street)",
        homeProgram: "HOME SURFER (Home)",
        
        // Dashboard
        welcome: "Welcome",
        currentStreak: "Current Streak",
        workoutsCompleted: "Workouts Completed",
        totalMinutes: "Total Minutes",
        achievements: "Achievements",
        dayXof90: "Day {day} of 90",
        todaysWorkout: "Today's Workout",
        startWorkout: "Start Workout",
        allWorkouts: "All Workouts",
        workoutType: "Workout Type",
        duration: "Duration",
        location: "Location",
        upperBody: "Upper Body",
        lowerBody: "Lower Body",
        fullBody: "Full Body",
        skill: "Skills",
        cardio: "Cardio",
        rest: "Rest",
        street: "Bars/Equipment",
        home: "Home",
        any: "Any",
        
        // Navigation
        home: "Home",
        programs: "Programs",
        todaysTraining: "Today",
        nutrition: "Nutrition",
        achievementsNav: "Achievements",
        settings: "Settings",
        logout: "Logout",
        level: "Level",
        language: "Language",
        
        // Workout
        back: "Back",
        progress: "Progress",
        sets: "Sets",
        reps: "Reps",
        restTime: "Rest",
        technique: "Technique Guide",
        completeExercise: "Complete Exercise",
        completeWorkout: "Complete Workout",
        next: "Next",
        previous: "Previous",
        startTimer: "Start",
        pauseTimer: "Pause",
        resetTimer: "Reset",
        workoutComplete: "Workout Complete!",
        greatJob: "Great Job!",
        completedIn: "You completed",
        nextWorkout: "Next Workout",
        goHome: "Go Home",
        
        // Settings
        changeLanguage: "Change Language",
        russian: "Русский",
        english: "English",
        saveSettings: "Save Settings",
        cancel: "Cancel",
        
        // Footer
        footerDesc: "Silver Surfer Fitness - Your ultimate FREE bodyweight and calisthenics training platform. Transform your body with professional 90-day programs using street workout equipment and bodyweight exercises.",
        contactText: "Need Help? Contact Support: denialrikruts@gmail.com",
        copyright: "© 2024 Silver Surfer Fitness. All rights reserved. | 'Ride the Wave of Fitness'"
      }
    };

    let currentLanguage = 'ru';
    let languageReady = false;

    function setLanguage(lang) {
      currentLanguage = lang;
      
      // Update all translatable elements
      updatePageLanguage();
      
      // Save preference
      localStorage.setItem('silverSurferLanguage', lang);
      
      // Show confirmation
      if (currentUser) {
        showDashboard();
      }
    }

    function t(key, params = {}) {
      let text = translations[currentLanguage][key] || translations['en'][key] || key;
      
      // Replace parameters
      Object.keys(params).forEach(param => {
        text = text.replace(`{${param}}`, params[param]);
      });
      
      return text;
    }

    function updatePageLanguage() {
      // Update footer
      const footerDesc = document.getElementById('footerDescription');
      const footerContact = document.getElementById('footerContactText');
      const footerCopyright = document.getElementById('footerCopyright');
      
      if (footerDesc) footerDesc.textContent = t('footerDesc');
      if (footerContact) footerContact.textContent = t('contactText');
      if (footerCopyright) footerCopyright.textContent = t('copyright');
      
      // Update navigation and current page
      updateNavigation();
      updateCurrentPageContent();
    }

    function updateCurrentPageContent() {
      const mainContent = document.getElementById('mainContent');
      
      // Проверяем, какая страница сейчас открыта
      if (mainContent.querySelector('.home-screen')) {
        // Это главная страница
        updateHomePage();
      } else if (mainContent.querySelector('.dashboard')) {
        // Это дашборд
        showDashboard();
      } else if (mainContent.querySelector('.workout-screen')) {
        // Это страница тренировки
        showWorkoutScreen();
      } else if (mainContent.querySelector('.workout-selection')) {
        // Это выбор программы
        if (mainContent.querySelector('.program-cards')) {
          if (mainContent.querySelector('.program-card')) {
            showPrograms();
          } else {
            showWorkouts();
          }
        }
      } else if (mainContent.querySelector('.auth-form')) {
        // Это форма авторизации
        updateAuthPage();
      } else if (mainContent.querySelector('.nutrition-tips')) {
        // Это питание
        showNutrition();
      } else if (mainContent.querySelector('.language-selector-settings')) {
        // Это настройки
        showSettings();
      }
    }

    function updateHomePage() {
      const tagline = document.getElementById('tagline');
      const homeSubtitle = document.getElementById('homeSubtitle');
      const startFreeBtn = document.querySelector('.btn-primary');
      const loginBtn = document.querySelector('.btn-secondary');
      
      if (tagline) tagline.textContent = t('tagline');
      if (homeSubtitle) homeSubtitle.textContent = t('subtitle');
      
      if (startFreeBtn) {
        startFreeBtn.innerHTML = `<i class="fas fa-user-plus"></i> ${t('startFree')}`;
      }
      if (loginBtn) {
        loginBtn.innerHTML = `<i class="fas fa-sign-in-alt"></i> ${t('login')}`;
      }
    }

    function updateAuthPage() {
      const formTitle = document.querySelector('.form-title');
      if (!formTitle) return;
      
      const isRegister = formTitle.textContent.includes('Регистрация') || formTitle.textContent.includes('Register');
      
      if (isRegister) {
        updateRegisterPage();
      } else {
        updateLoginPage();
      }
    }

    function updateLoginPage() {
      const formTitle = document.querySelector('.form-title');
      const usernameLabel = document.querySelector('label[for="loginUsername"]');
      const passwordLabel = document.querySelector('label[for="loginPassword"]');
      const loginBtn = document.querySelector('.btn-primary');
      const noAccountLink = document.querySelector('.form-link:nth-of-type(1)');
      const backHomeLink = document.querySelector('.form-link:nth-of-type(2)');
      
      if (formTitle) formTitle.textContent = t('loginTitle');
      if (usernameLabel) usernameLabel.innerHTML = `<i class="fas fa-user"></i> ${t('username')}`;
      if (passwordLabel) passwordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('password')}`;
      if (loginBtn) loginBtn.innerHTML = `<i class="fas fa-sign-in-alt"></i> ${t('loginBtn')}`;
      if (noAccountLink) noAccountLink.textContent = t('noAccount');
      if (backHomeLink) backHomeLink.innerHTML = `<i class="fas fa-arrow-left"></i> ${t('backHome')}`;
    }

    function updateRegisterPage() {
      const formTitle = document.querySelector('.form-title');
      const usernameLabel = document.querySelector('label[for="registerUsername"]');
      const passwordLabel = document.querySelector('label[for="registerPassword"]');
      const confirmPasswordLabel = document.querySelector('label[for="registerConfirmPassword"]');
      const programLabel = document.querySelector('label[for="registerProgram"]');
      const registerBtn = document.querySelector('.btn-primary');
      const haveAccountLink = document.querySelector('.form-link:nth-of-type(1)');
      const backHomeLink = document.querySelector('.form-link:nth-of-type(2)');
      
      if (formTitle) formTitle.textContent = t('registerTitle');
      if (usernameLabel) usernameLabel.innerHTML = `<i class="fas fa-user"></i> ${t('username')}`;
      if (passwordLabel) passwordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('password')}`;
      if (confirmPasswordLabel) confirmPasswordLabel.innerHTML = `<i class="fas fa-lock"></i> ${t('confirmPassword')}`;
      if (programLabel) programLabel.innerHTML = `<i class="fas fa-dumbbell"></i> ${t('chooseProgram')}`;
      if (registerBtn) registerBtn.innerHTML = `<i class="fas fa-user-plus"></i> ${t('registerBtn')}`;
      if (haveAccountLink) haveAccountLink.textContent = t('haveAccount');
      if (backHomeLink) backHomeLink.innerHTML = `<i class="fas fa-arrow-left"></i> ${t('backHome')}`;
      
      // Обновляем опции программы
      const programSelect = document.getElementById('registerProgram');
      if (programSelect) {
        programSelect.innerHTML = `
          <option value="hybrid">${t('hybridProgram')}</option>
          <option value="street">${t('streetProgram')}</option>
          <option value="home">${t('homeProgram')}</option>
        `;
      }
    }

    // ==================== INITIALIZATION ====================
    console.log("Silver Surfer Fitness - Initializing...");
    
    // Система пользователей
    const USER_STORAGE_KEY = 'silverSurferUsers';
    const CURRENT_USER_KEY = 'silverSurferCurrentUser';
    
    let currentUser = null;
    let usersDB = {};
    
    // Workout database - 90-дневная программа
    const workoutsDB = {
      'hybrid': {
        name: { ru: "HYBRID SURFER PROGRAM", en: "HYBRID SURFER PROGRAM" },
        description: { 
          ru: "90-дневная программа сочетающая уличные и домашние тренировки",
          en: "90-day program combining street and home workouts"
        },
        totalDays: 90,
        workouts: {}
      },
      'street': {
        name: { ru: "STREET SURFER PROGRAM", en: "STREET SURFER PROGRAM" },
        description: { 
          ru: "90-дневная программа уличных тренировок с оборудованием",
          en: "90-day street workout program with equipment"
        },
        totalDays: 90,
        workouts: {}
      },
      'home': {
        name: { ru: "HOME SURFER PROGRAM", en: "HOME SURFER PROGRAM" },
        description: { 
          ru: "90-дневная домашняя программа без оборудования",
          en: "90-day home program without equipment"
        },
        totalDays: 90,
        workouts: {}
      }
    };
    
    // Хеширование пароля
    function hashPassword(password) {
      let hash = 0;
      for (let i = 0; i < password.length; i++) {
        const char = password.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
      }
      return hash.toString();
    }
    
    // Генерация тренировок на 90 дней для каждой программы
    function generateWorkoutsForProgram(programType) {
      const workouts = {};
      
      for (let day = 1; day <= 90; day++) {
        let workout;
        
        if (programType === 'hybrid') {
          // Гибрид: чередование уличных и домашних тренировок
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 2 === 0) {
            workout = generateHomeWorkout(day);
          } else {
            workout = generateStreetWorkout(day);
          }
        } else if (programType === 'street') {
          // Уличная программа
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 5 === 0) {
            workout = generateSkillDay(day);
          } else if (day % 3 === 0) {
            workout = generateLowerBodyWorkout(day);
          } else {
            workout = generateUpperBodyWorkout(day);
          }
        } else if (programType === 'home') {
          // Домашняя программа
          if (day % 7 === 0) {
            workout = generateRestDay(day);
          } else if (day % 5 === 0) {
            workout = generateCardioDay(day);
          } else {
            workout = generateFullBodyWorkout(day);
          }
        }
        
        workouts[day] = workout;
      }
      
      return workouts;
    }
    
    // Генерация упражнений
    function generateUpperBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка верха тела`,
          en: `Day ${day}: Upper Body Workout`
        },
        duration: 60,
        type: 'upper',
        location: 'street',
        exercises: [
          {
            name: { ru: "Подтягивания", en: "Pull-ups" },
            sets: "4",
            reps: "8-12",
            rest: "90",
            description: { 
              ru: "Широкий хват для ширины спины",
              en: "Wide grip for back width"
            }
          },
          {
            name: { ru: "Отжимания на брусьях", en: "Parallel Bar Dips" },
            sets: "4",
            reps: "10-15",
            rest: "90",
            description: { 
              ru: "Для груди и трицепсов",
              en: "For chest and triceps"
            }
          },
          {
            name: { ru: "Подъемы ног в висе", en: "Hanging Leg Raises" },
            sets: "3",
            reps: "12-15",
            rest: "60",
            description: { 
              ru: "Для пресса",
              en: "For abs"
            }
          }
        ]
      };
    }
    
    function generateHomeWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Домашняя тренировка`,
          en: `Day ${day}: Home Workout`
        },
        duration: 45,
        type: 'full',
        location: 'home',
        exercises: [
          {
            name: { ru: "Отжимания", en: "Push-ups" },
            sets: "4",
            reps: "15-20",
            rest: "60",
            description: { 
              ru: "Классические отжимания для груди и трицепсов",
              en: "Classic push-ups for chest and triceps"
            }
          },
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "4",
            reps: "20-25",
            rest: "60",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Планка", en: "Plank" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Упражнение для кора",
              en: "Core exercise"
            }
          }
        ]
      };
    }
    
    function generateStreetWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Уличная тренировка`,
          en: `Day ${day}: Street Workout`
        },
        duration: 60,
        type: 'upper',
        location: 'street',
        exercises: [
          {
            name: { ru: "Подтягивания", en: "Pull-ups" },
            sets: "4",
            reps: "8-12",
            rest: "90",
            description: { 
              ru: "Базовая техника для спины и бицепсов",
              en: "Basic technique for back and biceps"
            }
          },
          {
            name: { ru: "Отжимания на брусьях", en: "Parallel Bar Dips" },
            sets: "4",
            reps: "10-15",
            rest: "90",
            description: { 
              ru: "Для развития груди и трицепсов",
              en: "For chest and triceps development"
            }
          }
        ]
      };
    }
    
    function generateRestDay(day) {
      return {
        name: { 
          ru: `День ${day}: Отдых`,
          en: `Day ${day}: Rest Day`
        },
        duration: 0,
        type: 'rest',
        location: 'any',
        exercises: []
      };
    }
    
    function generateLowerBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка низа тела`,
          en: `Day ${day}: Lower Body Workout`
        },
        duration: 50,
        type: 'lower',
        location: 'street',
        exercises: [
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "4",
            reps: "15-20",
            rest: "90",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Выпады", en: "Lunges" },
            sets: "3",
            reps: "12-15 на каждую ногу",
            rest: "60",
            description: { 
              ru: "Для ягодиц и ног",
              en: "For glutes and legs"
            }
          }
        ]
      };
    }
    
    function generateSkillDay(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка навыков`,
          en: `Day ${day}: Skill Training`
        },
        duration: 40,
        type: 'skill',
        location: 'street',
        exercises: [
          {
            name: { ru: "Выходы силой", en: "Muscle-ups" },
            sets: "3",
            reps: "3-5",
            rest: "120",
            description: { 
              ru: "Тренировка выхода силой на турнике",
              en: "Muscle-up training on pull-up bar"
            }
          }
        ]
      };
    }
    
    function generateCardioDay(day) {
      return {
        name: { 
          ru: `День ${day}: Кардио тренировка`,
          en: `Day ${day}: Cardio Workout`
        },
        duration: 30,
        type: 'cardio',
        location: 'home',
        exercises: [
          {
            name: { ru: "Берпи", en: "Burpees" },
            sets: "4",
            reps: "10-15",
            rest: "60",
            description: { 
              ru: "Комплексное упражнение для всего тела",
              en: "Full body compound exercise"
            }
          },
          {
            name: { ru: "Прыжки на месте", en: "Jumping Jacks" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Кардио упражнение",
              en: "Cardio exercise"
            }
          }
        ]
      };
    }
    
    function generateFullBodyWorkout(day) {
      return {
        name: { 
          ru: `День ${day}: Тренировка всего тела`,
          en: `Day ${day}: Full Body Workout`
        },
        duration: 55,
        type: 'full',
        location: 'home',
        exercises: [
          {
            name: { ru: "Отжимания", en: "Push-ups" },
            sets: "3",
            reps: "15-20",
            rest: "60",
            description: { 
              ru: "Классические отжимания",
              en: "Classic push-ups"
            }
          },
          {
            name: { ru: "Приседания", en: "Squats" },
            sets: "3",
            reps: "20-25",
            rest: "60",
            description: { 
              ru: "Приседания с собственным весом",
              en: "Bodyweight squats"
            }
          },
          {
            name: { ru: "Планка", en: "Plank" },
            sets: "3",
            reps: "30-45 сек",
            rest: "45",
            description: { 
              ru: "Упражнение для кора",
              en: "Core exercise"
            }
          }
        ]
      };
    }
    
    // Инициализация тренировок для каждой программы
    for (const programType in workoutsDB) {
      workoutsDB[programType].workouts = generateWorkoutsForProgram(programType);
    }
    
    // Текущая тренировка
    let currentWorkout = null;
    let currentExerciseIndex = 0;
    let timerInterval = null;
    let timerSeconds = 0;
    let timerRunning = false;
    
    // Загрузка базы пользователей
    function loadUsersDB() {
      try {
        const saved = localStorage.getItem(USER_STORAGE_KEY);
        if (saved) {
          usersDB = JSON.parse(saved);
        } else {
          usersDB = {};
          saveUsersDB();
        }
      } catch (error) {
        console.error("Error loading users DB:", error);
        usersDB = {};
      }
    }
    
    // Сохранение базы пользователей
    function saveUsersDB() {
      try {
        localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(usersDB));
        return true;
      } catch (error) {
        console.error("Error saving users DB:", error);
        return false;
      }
    }
    
    // Загрузка текущего пользователя
    function loadCurrentUser() {
      try {
        const saved = localStorage.getItem(CURRENT_USER_KEY);
        if (saved) {
          const user = JSON.parse(saved);
          // Проверяем, существует ли пользователь в базе
          if (usersDB[user.id]) {
            currentUser = usersDB[user.id];
            return true;
          }
        }
      } catch (error) {
        console.error("Error loading current user:", error);
      }
      return false;
    }
    
    // Сохранение текущего пользователя
    function saveCurrentUser() {
      try {
        localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
        return true;
      } catch (error) {
        console.error("Error saving current user:", error);
        return false;
      }
    }
    
    // Создание нового пользователя
    function createUser(username, password, programType = 'hybrid') {
      const userId = Date.now().toString();
      
      const newUser = {
        id: userId,
        username: username,
        passwordHash: hashPassword(password),
        level: 1,
        experience: 0,
        streak: 0,
        completedWorkouts: 0,
        totalMinutes: 0,
        unlockedAchievements: [1],
        currentProgram: programType,
        programDay: 1,
        lastActive: new Date().toISOString(),
        completedDays: [],
        createdAt: new Date().toISOString()
      };
      
      usersDB[userId] = newUser;
      saveUsersDB();
      
      return newUser;
    }
    
    // Вход пользователя
    function loginUser(username, password) {
      // Поиск пользователя
      for (const userId in usersDB) {
        if (usersDB[userId].username.toLowerCase() === username.toLowerCase()) {
          // Проверка пароля
          if (usersDB[userId].passwordHash === hashPassword(password)) {
            currentUser = usersDB[userId];
            
            // Проверка стрика
            const lastActive = new Date(currentUser.lastActive);
            const today = new Date();
            const diffDays = Math.floor((today - lastActive) / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) {
              currentUser.streak++;
            } else if (diffDays > 1) {
              currentUser.streak = 0;
            }
            
            currentUser.lastActive = today.toISOString();
            saveCurrentUser();
            
            return true;
          }
        }
      }
      return false;
    }
    
    // Выход пользователя
    function logoutUser() {
      if (currentUser) {
        currentUser.lastActive = new Date().toISOString();
        usersDB[currentUser.id] = currentUser;
        saveUsersDB();
      }
      currentUser = null;
      localStorage.removeItem(CURRENT_USER_KEY);
    }
    
    // Получение текущей тренировки пользователя
    function getUserCurrentWorkout() {
      if (!currentUser) return null;
      
      const program = workoutsDB[currentUser.currentProgram];
      if (!program) return null;
      
      // Если программа завершена
      if (currentUser.programDay > program.totalDays) {
        return {
          name: { 
            ru: "Программа завершена!", 
            en: "Program Completed!" 
          },
          description: { 
            ru: "Вы успешно завершили 90-дневную программу!",
            en: "You have successfully completed the 90-day program!"
          },
          type: 'completed',
          exercises: []
        };
      }
      
      return program.workouts[currentUser.programDay];
    }
    
    // Автоматический переход к следующему дню
    function advanceToNextDay() {
      if (!currentUser) return;
      
      // Если текущий день не был выполнен, отмечаем как выполненный
      if (!currentUser.completedDays.includes(currentUser.programDay)) {
        currentUser.completedDays.push(currentUser.programDay);
      }
      
      // Переходим к следующему дню
      currentUser.programDay++;
      
      // Если программа завершена
      if (currentUser.programDay > workoutsDB[currentUser.currentProgram].totalDays) {
        currentUser.programDay = workoutsDB[currentUser.currentProgram].totalDays;
      }
      
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
    }
    
    // Создание частиц для фона
    function createParticles() {
      const particlesContainer = document.createElement('div');
      particlesContainer.className = 'particles';
      
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.width = particle.style.height = Math.random() * 3 + 1 + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = Math.random() * 10 + 15 + 's';
        particlesContainer.appendChild(particle);
      }
      
      document.body.appendChild(particlesContainer);
    }
    
    // Обновление бейджа уровня
    function updateLevelBadge() {
      const levelBadge = document.getElementById('levelBadge');
      if (levelBadge && currentUser) {
        levelBadge.innerHTML = `<i class="fas fa-star"></i> ${t('level')} ${currentUser.level}`;
      }
    }
    
    // Обновление навигации
    function updateNavigation() {
      const navMenu = document.getElementById('navMenu');
      const userActions = document.getElementById('userActions');
      const mobileMenu = document.getElementById('mobileMenu');
      
      if (currentUser) {
        // Пользователь вошел в систему
        navMenu.innerHTML = `
          <div class="nav-item" onclick="showDashboard()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showPrograms()">
            <i class="fas fa-dumbbell"></i> ${t('programs')}
          </div>
          <div class="nav-item" onclick="startTodaysWorkout()">
            <i class="fas fa-running"></i> ${t('todaysTraining')}
          </div>
          <div class="nav-item" onclick="showNutrition()">
            <i class="fas fa-apple-alt"></i> ${t('nutrition')}
          </div>
          <div class="nav-item" onclick="showAchievements()">
            <i class="fas fa-trophy"></i> ${t('achievementsNav')}
          </div>
        `;
        
        userActions.innerHTML = `
          <div class="level-badge" id="levelBadge">
            <i class="fas fa-star"></i> ${t('level')} ${currentUser.level}
          </div>
          <div class="nav-item" onclick="showSettings()">
            <i class="fas fa-cog"></i> ${t('settings')}
          </div>
          <div class="nav-item" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> ${t('logout')}
          </div>
        `;
        
        mobileMenu.innerHTML = `
          <div class="nav-item" onclick="showDashboard()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showPrograms()">
            <i class="fas fa-dumbbell"></i> ${t('programs')}
          </div>
          <div class="nav-item" onclick="startTodaysWorkout()">
            <i class="fas fa-running"></i> ${t('todaysTraining')}
          </div>
          <div class="nav-item" onclick="showNutrition()">
            <i class="fas fa-apple-alt"></i> ${t('nutrition')}
          </div>
          <div class="nav-item" onclick="showAchievements()">
            <i class="fas fa-trophy"></i> ${t('achievementsNav')}
          </div>
          <div class="nav-item" onclick="showSettings()">
            <i class="fas fa-cog"></i> ${t('settings')}
          </div>
          <div class="nav-item" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> ${t('logout')}
          </div>
        `;
      } else {
        // Пользователь не вошел в систему
        navMenu.innerHTML = `
          <div class="nav-item" onclick="showHome()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showLogin()">
            <i class="fas fa-sign-in-alt"></i> ${t('login')}
          </div>
          <div class="nav-item" onclick="showRegister()">
            <i class="fas fa-user-plus"></i> ${t('registerTitle')}
          </div>
        `;
        
        userActions.innerHTML = '';
        
        mobileMenu.innerHTML = `
          <div class="nav-item" onclick="showHome()">
            <i class="fas fa-home"></i> ${t('home')}
          </div>
          <div class="nav-item" onclick="showLogin()">
            <i class="fas fa-sign-in-alt"></i> ${t('login')}
          </div>
          <div class="nav-item" onclick="showRegister()">
            <i class="fas fa-user-plus"></i> ${t('registerTitle')}
          </div>
        `;
      }
      
      updateLevelBadge();
    }
    
    // Эффект скролла хедера
    function initScrollHeader() {
      const header = document.getElementById('mainHeader');
      if (!header) return;
      
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });
    }
    
    // Функции таймера
    function startTimer() {
      if (timerRunning) return;
      
      timerRunning = true;
      timerInterval = setInterval(() => {
        timerSeconds++;
        updateTimerDisplay();
      }, 1000);
    }
    
    function pauseTimer() {
      if (!timerRunning) return;
      
      timerRunning = false;
      clearInterval(timerInterval);
    }
    
    function resetTimer() {
      timerRunning = false;
      clearInterval(timerInterval);
      timerSeconds = 0;
      updateTimerDisplay();
    }
    
    function updateTimerDisplay() {
      const timerDisplay = document.getElementById('timerDisplay');
      if (timerDisplay) {
        const hours = Math.floor(timerSeconds / 3600);
        const minutes = Math.floor((timerSeconds % 3600) / 60);
        const seconds = timerSeconds % 60;
        
        timerDisplay.textContent = 
          `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }
    }
    
    // ==================== NAVIGATION ====================
    
    function showHome() {
      document.getElementById('mainContent').innerHTML = `
        <div class="home-screen" id="homeScreen">
          <div class="home-content">
            <h1 class="home-title" id="homeTitle">SILVER SURFER</h1>
            <div class="tagline" id="tagline">${t('tagline')}</div>
            <p class="home-subtitle" id="homeSubtitle">${t('subtitle')}</p>
            <div class="home-buttons">
              <button class="btn btn-primary btn-glow" onclick="showRegister()">
                <i class="fas fa-user-plus"></i> ${t('startFree')}
              </button>
              <button class="btn btn-secondary" onclick="showLogin()">
                <i class="fas fa-sign-in-alt"></i> ${t('login')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showLogin() {
      document.getElementById('mainContent').innerHTML = `
        <div class="auth-form">
          <h2 class="form-title">${t('loginTitle')}</h2>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-user"></i> ${t('username')}</label>
            <input type="text" id="loginUsername" class="form-input" placeholder="${t('username')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('password')}</label>
            <input type="password" id="loginPassword" class="form-input" placeholder="${t('password')}">
          </div>
          <div class="form-actions">
            <button class="btn btn-primary" onclick="performLogin()" style="flex: 1;">
              <i class="fas fa-sign-in-alt"></i> ${t('loginBtn')}
            </button>
          </div>
          <a class="form-link" onclick="showRegister()">
            ${t('noAccount')}
          </a>
          <a class="form-link" onclick="showHome()">
            <i class="fas fa-arrow-left"></i> ${t('backHome')}
          </a>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showRegister() {
      document.getElementById('mainContent').innerHTML = `
        <div class="auth-form">
          <h2 class="form-title">${t('registerTitle')}</h2>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-user"></i> ${t('username')}</label>
            <input type="text" id="registerUsername" class="form-input" placeholder="${t('username')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('password')}</label>
            <input type="password" id="registerPassword" class="form-input" placeholder="${t('password')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-lock"></i> ${t('confirmPassword')}</label>
            <input type="password" id="registerConfirmPassword" class="form-input" placeholder="${t('confirmPassword')}">
          </div>
          <div class="form-group">
            <label class="form-label"><i class="fas fa-dumbbell"></i> ${t('chooseProgram')}</label>
            <select id="registerProgram" class="form-input">
              <option value="hybrid">${t('hybridProgram')}</option>
              <option value="street">${t('streetProgram')}</option>
              <option value="home">${t('homeProgram')}</option>
            </select>
          </div>
          <div class="form-actions">
            <button class="btn btn-primary" onclick="performRegister()" style="flex: 1;">
              <i class="fas fa-user-plus"></i> ${t('registerBtn')}
            </button>
          </div>
          <a class="form-link" onclick="showLogin()">
            ${t('haveAccount')}
          </a>
          <a class="form-link" onclick="showHome()">
            <i class="fas fa-arrow-left"></i> ${t('backHome')}
          </a>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function performLogin() {
      const usernameInput = document.getElementById('loginUsername');
      const passwordInput = document.getElementById('loginPassword');
      
      if (!usernameInput || !usernameInput.value.trim()) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите имя пользователя' : 'Please enter username');
        return;
      }
      
      if (!passwordInput || !passwordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите пароль' : 'Please enter password');
        return;
      }
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value;
      
      if (loginUser(username, password)) {
        saveCurrentUser();
        updateNavigation();
        showDashboard();
      } else {
        alert(currentLanguage === 'ru' ? 'Неверное имя пользователя или пароль' : 'Invalid username or password');
      }
    }
    
    function performRegister() {
      const usernameInput = document.getElementById('registerUsername');
      const passwordInput = document.getElementById('registerPassword');
      const confirmPasswordInput = document.getElementById('registerConfirmPassword');
      const programInput = document.getElementById('registerProgram');
      
      if (!usernameInput || !usernameInput.value.trim()) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите имя пользователя' : 'Please enter username');
        return;
      }
      
      if (usernameInput.value.trim().length < 3) {
        alert(currentLanguage === 'ru' ? 'Имя пользователя должно быть не менее 3 символов' : 'Username must be at least 3 characters');
        return;
      }
      
      if (!passwordInput || !passwordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, введите пароль' : 'Please enter password');
        return;
      }
      
      if (passwordInput.value.length < 6) {
        alert(currentLanguage === 'ru' ? 'Пароль должен быть не менее 6 символов' : 'Password must be at least 6 characters');
        return;
      }
      
      if (!confirmPasswordInput || !confirmPasswordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пожалуйста, подтвердите пароль' : 'Please confirm password');
        return;
      }
      
      if (passwordInput.value !== confirmPasswordInput.value) {
        alert(currentLanguage === 'ru' ? 'Пароли не совпадают' : 'Passwords do not match');
        return;
      }
      
      const username = usernameInput.value.trim();
      const password = passwordInput.value;
      const programType = programInput ? programInput.value : 'hybrid';
      
      // Проверка на существующего пользователя
      let userExists = false;
      for (const userId in usersDB) {
        if (usersDB[userId].username.toLowerCase() === username.toLowerCase()) {
          userExists = true;
          break;
        }
      }
      
      if (userExists) {
        alert(currentLanguage === 'ru' ? 'Это имя пользователя уже занято. Пожалуйста, выберите другое.' : 'This username is already taken. Please choose another.');
        return;
      }
      
      // Создание нового пользователя
      const newUser = createUser(username, password, programType);
      currentUser = newUser;
      saveCurrentUser();
      updateNavigation();
      showDashboard();
    }
    
    function logout() {
      logoutUser();
      updateNavigation();
      showHome();
    }
    
    function showDashboard() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      loadCurrentUser();
      updateNavigation();
      
      const currentWorkout = getUserCurrentWorkout();
      const program = workoutsDB[currentUser.currentProgram];
      
      document.getElementById('mainContent').innerHTML = `
        <div class="dashboard">
          <h1 class="dashboard-title">${t('welcome')}, ${currentUser.username}!</h1>
          
          <div class="level-badge" style="display: inline-block; margin: 0 auto 40px; text-align: center; padding: 15px 35px; font-size: 1.2rem;">
            <i class="fas fa-star"></i> ${t('level')} ${currentUser.level} | ${t('dayXof90', { day: currentUser.programDay })}
          </div>
          
          <div class="stats-grid">
            <div class="stat-card">
              <i class="fas fa-fire stat-icon"></i>
              <h3 class="stat-title">${t('currentStreak')}</h3>
              <p class="stat-value">${currentUser.streak}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-dumbbell stat-icon"></i>
              <h3 class="stat-title">${t('workoutsCompleted')}</h3>
              <p class="stat-value">${currentUser.completedWorkouts}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-clock stat-icon"></i>
              <h3 class="stat-title">${t('totalMinutes')}</h3>
              <p class="stat-value">${currentUser.totalMinutes}</p>
            </div>
            <div class="stat-card">
              <i class="fas fa-trophy stat-icon"></i>
              <h3 class="stat-title">${t('achievements')}</h3>
              <p class="stat-value">${currentUser.unlockedAchievements.length}/15</p>
            </div>
          </div>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 50px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 25px; font-size: 2rem;">${t('todaysWorkout')}</h3>
            <p style="color: var(--ice); text-align: center; margin-bottom: 30px; font-size: 1.3rem;">
              <strong>${currentWorkout.name[currentLanguage]}</strong><br>
              ${currentWorkout.type === 'rest' ? 
                (currentLanguage === 'ru' ? 'День отдыха - важно для восстановления!' : 'Rest day - important for recovery!') : 
                currentWorkout.location === 'street' ? 
                (currentLanguage === 'ru' ? 'Уличная тренировка' : 'Street workout') : 
                (currentLanguage === 'ru' ? 'Домашняя тренировка' : 'Home workout')}
            </p>
            
            <div class="details-grid">
              <div class="detail-item">
                <h4><i class="fas fa-bullseye"></i> ${t('workoutType')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.type === 'upper' ? t('upperBody') : 
                     currentWorkout.type === 'lower' ? t('lowerBody') : 
                     currentWorkout.type === 'full' ? t('fullBody') : 
                     currentWorkout.type === 'skill' ? t('skill') : 
                     currentWorkout.type === 'cardio' ? t('cardio') : 
                     currentWorkout.type === 'rest' ? t('rest') : t('fullBody')}
                </p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-clock"></i> ${t('duration')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.duration > 0 ? currentWorkout.duration + ' ' + (currentLanguage === 'ru' ? 'мин' : 'minutes') : t('rest')}
                </p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-map-marker-alt"></i> ${t('location')}</h4>
                <p style="font-size: 1.4rem; font-weight: 700; color: var(--light);">
                  ${currentWorkout.location === 'street' ? t('street') : 
                     currentWorkout.location === 'home' ? t('home') : 
                     t('any')}
                </p>
              </div>
            </div>
            
            <div class="home-buttons" style="margin-top: 50px;">
              <button class="btn btn-primary" onclick="startTodaysWorkout()" style="font-size: 1.3rem; padding: 20px 40px;">
                <i class="fas fa-play"></i> ${currentWorkout.type === 'rest' ? 
                  (currentLanguage === 'ru' ? 'План отдыха' : 'Rest Plan') : 
                  t('startWorkout')}
              </button>
              <button class="btn btn-secondary" onclick="showWorkouts()" style="font-size: 1.3rem; padding: 20px 40px;">
                <i class="fas fa-calendar-alt"></i> ${t('allWorkouts')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function startTodaysWorkout() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      const workout = getUserCurrentWorkout();
      if (!workout) {
        alert(currentLanguage === 'ru' ? 'Тренировка не найдена' : 'Workout not found');
        return;
      }
      
      startWorkout(workout);
    }
    
    function startWorkout(workout) {
      currentWorkout = workout;
      currentExerciseIndex = 0;
      timerSeconds = 0;
      timerRunning = false;
      
      showWorkoutScreen();
    }
    
    function showWorkoutScreen() {
      if (!currentWorkout || !currentUser) return;
      
      const progress = Math.round((currentExerciseIndex / currentWorkout.exercises.length) * 100);
      
      // Создание шагов упражнений
      const exerciseSteps = currentWorkout.exercises.map((_, index) => `
        <div class="exercise-step ${index < currentExerciseIndex ? 'completed' : ''} ${index === currentExerciseIndex ? 'active' : ''}">
          ${index + 1}
        </div>
      `).join('');
      
      const currentExercise = currentWorkout.exercises[currentExerciseIndex];
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-screen">
          <div class="workout-header">
            <button class="back-btn" onclick="showDashboard()">
              <i class="fas fa-arrow-left"></i> ${t('back')}
            </button>
            <h2 style="color: var(--light); font-size: 2.2rem;">${currentWorkout.name[currentLanguage]}</h2>
            <div class="level-badge">
              <i class="fas fa-clock"></i> ${currentWorkout.duration} ${currentLanguage === 'ru' ? 'мин' : 'min'}
            </div>
          </div>
          
          <div class="exercise-container">
            <div class="exercise-progress">
              <div class="progress-container">
                <div class="progress-header">
                  <span>${t('progress')}</span>
                  <span>${currentExerciseIndex + 1} / ${currentWorkout.exercises.length}</span>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: ${progress}%"></div>
                </div>
              </div>
              
              <div class="exercise-steps">
                ${exerciseSteps}
              </div>
            </div>
            
            ${currentWorkout.type !== 'rest' ? `
            <div class="timer-container">
              <h4 style="color: var(--ice); text-align: center; margin-bottom: 20px;">${currentLanguage === 'ru' ? 'Таймер тренировки' : 'Workout Timer'}</h4>
              <div class="timer-display" id="timerDisplay">00:00:00</div>
              <div class="timer-controls">
                <button class="timer-btn timer-btn-start" onclick="startTimer()">
                  <i class="fas fa-play"></i> ${t('startTimer')}
                </button>
                <button class="timer-btn timer-btn-pause" onclick="pauseTimer()">
                  <i class="fas fa-pause"></i> ${t('pauseTimer')}
                </button>
                <button class="timer-btn timer-btn-reset" onclick="resetTimer()">
                  <i class="fas fa-redo"></i> ${t('resetTimer')}
                </button>
              </div>
            </div>
            ` : ''}
            
            <div class="current-exercise">
              <h3>${currentExercise.name[currentLanguage]}</h3>
              
              <div class="exercise-details-grid">
                <div class="exercise-detail-card">
                  <h4>${t('sets')}</h4>
                  <p>${currentExercise.sets} ${currentLanguage === 'ru' ? 'подходов' : 'sets'}</p>
                </div>
                <div class="exercise-detail-card">
                  <h4>${t('reps')}</h4>
                  <p>${currentExercise.reps} ${currentLanguage === 'ru' ? 'повторений' : 'reps'}</p>
                </div>
                <div class="exercise-detail-card">
                  <h4>${t('restTime')}</h4>
                  <p>${currentExercise.rest} ${currentLanguage === 'ru' ? 'секунд' : 'seconds'}</p>
                </div>
              </div>
              
              <div class="exercise-description">
                <p>${currentExercise.description[currentLanguage]}</p>
              </div>
            </div>
            
            <div class="action-buttons">
              ${currentExerciseIndex > 0 ? `
                <button class="btn btn-secondary" onclick="previousExercise()">
                  <i class="fas fa-arrow-left"></i> ${t('previous')}
                </button>
              ` : ''}
              
              <button class="btn btn-primary" onclick="completeExercise()">
                ${currentExerciseIndex === currentWorkout.exercises.length - 1 ? 
                  `<i class="fas fa-check-circle"></i> ${t('completeWorkout')}` : 
                  `<i class="fas fa-check"></i> ${t('completeExercise')}`}
              </button>
              
              ${currentExerciseIndex < currentWorkout.exercises.length - 1 ? `
                <button class="btn btn-secondary" onclick="nextExercise()">
                  ${t('next')} <i class="fas fa-arrow-right"></i>
                </button>
              ` : ''}
            </div>
          </div>
        </div>
      `;
      
      updateTimerDisplay();
      closeMobileMenu();
    }
    
    function completeExercise() {
      if (!currentWorkout || currentExerciseIndex >= currentWorkout.exercises.length) return;
      
      currentExerciseIndex++;
      
      if (currentExerciseIndex < currentWorkout.exercises.length) {
        showWorkoutScreen();
      } else {
        completeWorkout();
      }
    }
    
    function nextExercise() {
      if (!currentWorkout || currentExerciseIndex >= currentWorkout.exercises.length - 1) return;
      
      currentExerciseIndex++;
      showWorkoutScreen();
    }
    
    function previousExercise() {
      if (!currentWorkout || currentExerciseIndex <= 0) return;
      
      currentExerciseIndex--;
      showWorkoutScreen();
    }
    
    function completeWorkout() {
      if (!currentWorkout || !currentUser) return;
      
      // Остановка таймера
      pauseTimer();
      
      // Расчет времени тренировки
      const workoutMinutes = Math.max(10, Math.floor(timerSeconds / 60));
      
      // Обновление статистики пользователя
      currentUser.completedWorkouts++;
      currentUser.totalMinutes += workoutMinutes;
      currentUser.experience += 150;
      
      // Отметка дня как выполненного
      if (!currentUser.completedDays.includes(currentUser.programDay)) {
        currentUser.completedDays.push(currentUser.programDay);
      }
      
      // Переход к следующему дню
      advanceToNextDay();
      
      // Обновление стрика
      currentUser.streak++;
      
      // Проверка повышения уровня
      if (currentUser.experience >= 1000) {
        currentUser.level++;
        currentUser.experience = currentUser.experience - 1000;
      }
      
      // Проверка достижений
      if (currentUser.streak === 7 && !currentUser.unlockedAchievements.includes(2)) {
        currentUser.unlockedAchievements.push(2);
      }
      
      // Сохранение
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
      
      // Показ экрана завершения
      const completionTime = Math.floor(timerSeconds / 60);
      const completionSeconds = timerSeconds % 60;
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-screen">
          <div class="workout-header">
            <button class="back-btn" onclick="showDashboard()">
              <i class="fas fa-arrow-left"></i> ${t('goHome')}
            </button>
            <h2 style="color: var(--light); font-size: 2.2rem;">${t('workoutComplete')}</h2>
            <div class="level-badge">
              <i class="fas fa-trophy"></i> ${currentLanguage === 'ru' ? 'Успех' : 'Success'}
            </div>
          </div>
          
          <div class="completion-screen">
            <div class="completion-icon">
              <i class="fas fa-trophy"></i>
            </div>
            <h3 style="color: var(--light); margin-bottom: 25px; font-size: 2.5rem;">${t('greatJob')}</h3>
            <p style="color: var(--ice); margin-bottom: 40px; font-size: 1.4rem;">
              ${t('completedIn')} <strong>${currentWorkout.name[currentLanguage]}</strong> ${currentLanguage === 'ru' ? 'за' : 'in'} ${completionTime}:${completionSeconds.toString().padStart(2, '0')}!
            </p>
            
            <div class="details-grid" style="margin: 50px 0;">
              <div class="detail-item">
                <h4><i class="fas fa-fire"></i> ${t('currentStreak')}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">${currentUser.streak}</p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-dumbbell"></i> ${t('workoutsCompleted')}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">${currentUser.completedWorkouts}</p>
              </div>
              <div class="detail-item">
                <h4><i class="fas fa-star"></i> ${currentLanguage === 'ru' ? 'Опыт получен' : 'Experience gained'}</h4>
                <p style="font-size: 1.8rem; font-weight: 700; color: var(--light);">+150 XP</p>
              </div>
            </div>
            
            <div style="margin-top: 50px;">
              <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.4rem; padding: 22px 55px; margin-right: 25px;">
                <i class="fas fa-home"></i> ${t('goHome')}
              </button>
              <button class="btn btn-secondary" onclick="startTodaysWorkout()" style="font-size: 1.4rem; padding: 22px 55px;">
                <i class="fas fa-dumbbell"></i> ${t('nextWorkout')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showWorkouts() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      const program = workoutsDB[currentUser.currentProgram];
      if (!program) return;
      
      // Создание списка тренировок
      let workoutsHTML = '';
      for (let day = 1; day <= 90; day++) {
        const workout = program.workouts[day];
        const isCompleted = currentUser.completedDays.includes(day);
        const isToday = day === currentUser.programDay;
        
        workoutsHTML += `
          <div class="program-card" onclick="${isToday && !isCompleted ? `startWorkout(program.workouts[${day}])` : ''}" 
               style="opacity: ${isCompleted ? '0.7' : '1'}; cursor: ${isToday && !isCompleted ? 'pointer' : 'default'}">
            <div class="program-icon">
              <i class="fas ${workout.type === 'rest' ? 'fa-bed' : 
                             workout.type === 'cardio' ? 'fa-heartbeat' : 
                             workout.type === 'skill' ? 'fa-star' : 'fa-dumbbell'}"></i>
            </div>
            <h3 class="program-title">${workout.name[currentLanguage]}</h3>
            <p class="program-desc">
              ${isToday ? `<strong>${currentLanguage === 'ru' ? 'Сегодня!' : 'Today!'}</strong> ` : ''}
              ${isCompleted ? `<span style="color: var(--success);"><i class="fas fa-check"></i> ${currentLanguage === 'ru' ? 'Выполнено' : 'Completed'}</span>` : ''}
              ${workout.type === 'rest' ? 
                (currentLanguage === 'ru' ? 'День отдыха' : 'Rest day') : 
                workout.location === 'street' ? 
                (currentLanguage === 'ru' ? 'Уличная тренировка' : 'Street workout') : 
                (currentLanguage === 'ru' ? 'Домашняя тренировка' : 'Home workout')}
            </p>
            <div class="program-features">
              <span class="program-feature">${workout.duration} ${currentLanguage === 'ru' ? 'мин' : 'min'}</span>
              <span class="program-feature">${workout.type === 'upper' ? t('upperBody') : 
                                               workout.type === 'lower' ? t('lowerBody') : 
                                               workout.type === 'full' ? t('fullBody') : 
                                               workout.type === 'skill' ? t('skill') : 
                                               workout.type === 'cardio' ? t('cardio') : 
                                               t('rest')}</span>
              <span class="program-feature">${currentLanguage === 'ru' ? 'День' : 'Day'} ${day}</span>
            </div>
          </div>
        `;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${program.name[currentLanguage]}</h2>
          <p class="section-subtitle">${program.description[currentLanguage]} - 90 ${currentLanguage === 'ru' ? 'дней трансформации' : 'days transformation'}</p>
          
          <div class="program-cards">
            ${workoutsHTML}
          </div>
          
          <div style="text-align: center; margin-top: 50px;">
            <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
              <i class="fas fa-home"></i> ${t('goHome')}
            </button>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showPrograms() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ВЫБЕРИТЕ ПРОГРАММУ' : 'CHOOSE YOUR PROGRAM'}</h2>
          <p class="section-subtitle">${currentLanguage === 'ru' ? 'Все программы 100% БЕСПЛАТНЫ и научно обоснованы' : 'All programs are 100% FREE and scientifically proven'}</p>
          
          <div class="program-cards">
            <div class="program-card" onclick="selectProgram('street')">
              <div class="program-icon">
                <i class="fas fa-tree"></i>
              </div>
              <h3 class="program-title">STREET SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Продвинутая программа с использованием турников и брусьев. Постройте невероятную силу и мышечную массу с уличным оборудованием.' :
                  'Advanced program using pull-up bars and parallel bars. Build incredible strength and muscle mass with street equipment.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Подтягивания & Отжимания' : 'Pull-ups & Dips'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Выходы силой' : 'Muscle-ups'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Стойка на руках' : 'Handstand'}</span>
              </div>
            </div>
            
            <div class="program-card" onclick="selectProgram('home')">
              <div class="program-icon">
                <i class="fas fa-home"></i>
              </div>
              <h3 class="program-title">HOME SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Полная домашняя программа, не требующая оборудования. Идеально для новичков и тех, у кого мало места.' :
                  'Complete home program requiring no equipment. Perfect for beginners and those with limited space.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Без оборудования' : 'No equipment'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Для новичков' : 'For beginners'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Все тело' : 'Full body'}</span>
              </div>
            </div>
            
            <div class="program-card" onclick="selectProgram('hybrid')">
              <div class="program-icon">
                <i class="fas fa-sync-alt"></i>
              </div>
              <h3 class="program-title">HYBRID SURFER</h3>
              <p class="program-desc">
                ${currentLanguage === 'ru' ? 
                  'Сочетает уличные и домашние тренировки для максимальных результатов. Чередуйте тяжелые сессии и восстановительные тренировки.' :
                  'Combines street and home workouts for maximum results. Alternate heavy sessions and recovery workouts.'}
              </p>
              <div class="program-features">
                <span class="program-feature">${currentLanguage === 'ru' ? 'Оптимальное восстановление' : 'Optimal recovery'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Макс. сила' : 'Max strength'}</span>
                <span class="program-feature">${currentLanguage === 'ru' ? 'Сбалансированный прогресс' : 'Balanced progress'}</span>
              </div>
            </div>
          </div>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 50px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 25px; font-size: 1.8rem;">
              <i class="fas fa-lightbulb"></i> ${currentLanguage === 'ru' ? 'Совет по выбору программы' : 'Program selection advice'}
            </h3>
            <p style="color: var(--ice); text-align: center; margin-bottom: 30px; font-size: 1.3rem; line-height: 1.7;">
              ${currentLanguage === 'ru' ? 
                'Выберите <strong>Street Surfer</strong> если у вас есть доступ к турникам. <strong>Home Surfer</strong> если нет оборудования. <strong>Hybrid Surfer</strong> для лучшего из обоих миров. Вы можете сменить программу в любое время!' :
                'Choose <strong>Street Surfer</strong> if you have access to pull-up bars. <strong>Home Surfer</strong> if you have no equipment. <strong>Hybrid Surfer</strong> for the best of both worlds. You can change programs anytime!'}
            </p>
            
            <div style="text-align: center; margin-top: 40px;">
              <button class="btn btn-primary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
                <i class="fas fa-dumbbell"></i> ${t('startWorkout')}
              </button>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function selectProgram(programType) {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      currentUser.currentProgram = programType;
      currentUser.programDay = 1;
      currentUser.completedDays = [];
      saveCurrentUser();
      usersDB[currentUser.id] = currentUser;
      saveUsersDB();
      
      alert(currentLanguage === 'ru' ? 
        `Программа изменена на ${programType === 'street' ? 'Street Surfer' : programType === 'home' ? 'Home Surfer' : 'Hybrid Surfer'}` :
        `Program changed to ${programType === 'street' ? 'Street Surfer' : programType === 'home' ? 'Home Surfer' : 'Hybrid Surfer'}`
      );
      showDashboard();
    }
    
    function showNutrition() {
      document.getElementById('mainContent').innerHTML = `
        <div class="nutrition-tips">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ПИТАНИЕ ДЛЯ РОСТА МЫШЦ' : 'NUTRITION FOR MUSCLE GROWTH'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Заряжайте свои тренировки и максимизируйте результаты с этими научно обоснованными стратегиями питания' :
              'Fuel your workouts and maximize results with these scientifically proven nutrition strategies'}
          </p>
          
          <div class="details-grid">
            <div class="detail-item">
              <h4><i class="fas fa-drumstick-bite"></i> ${currentLanguage === 'ru' ? 'Время приема белка' : 'Protein timing'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Употребляйте 30-40г белка в течение 1 часа после тренировки для оптимального роста мышц.' :
                  'Consume 30-40g of protein within 1 hour after workout for optimal muscle growth.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-tint"></i> ${currentLanguage === 'ru' ? 'Гидратация' : 'Hydration'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Пейте 3-4 литра воды ежедневно. Обезвоживание снижает силу до 20%.' :
                  'Drink 3-4 liters of water daily. Dehydration reduces strength by up to 20%.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-apple-alt"></i> ${currentLanguage === 'ru' ? 'До тренировки' : 'Pre-workout'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Ешьте сложные углеводы за 2-3 часа до тренировки для устойчивой энергии.' :
                  'Eat complex carbohydrates 2-3 hours before workout for sustained energy.'}
              </p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-egg"></i> ${currentLanguage === 'ru' ? 'После тренировки' : 'Post-workout'}</h4>
              <p>
                ${currentLanguage === 'ru' ? 
                  'Быстроусвояемый белка с простыми углеводами для восполнения гликогена.' :
                  'Fast-digesting protein with simple carbohydrates to replenish glycogen.'}
              </p>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showAchievements() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'ВАШИ ДОСТИЖЕНИЯ' : 'YOUR ACHIEVEMENTS'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Отслеживайте прогресс и разблокируйте награды' :
              'Track your progress and unlock rewards'}
          </p>
          
          <div class="details-grid">
            <div class="detail-item">
              <h4><i class="fas fa-fire"></i> ${t('currentStreak')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.streak} ${currentLanguage === 'ru' ? 'дней подряд' : 'days in a row'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-dumbbell"></i> ${t('workoutsCompleted')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.completedWorkouts} ${currentLanguage === 'ru' ? 'сессий' : 'sessions'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-clock"></i> ${t('totalMinutes')}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${currentUser.totalMinutes} ${currentLanguage === 'ru' ? 'минут' : 'minutes'}</p>
            </div>
            <div class="detail-item">
              <h4><i class="fas fa-star"></i> ${currentLanguage === 'ru' ? 'Текущий уровень' : 'Current level'}</h4>
              <p style="font-size: 1.4rem; color: var(--light); font-weight: 600;">${t('level')} ${currentUser.level}</p>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function showSettings() {
      if (!currentUser) {
        showLogin();
        return;
      }
      
      document.getElementById('mainContent').innerHTML = `
        <div class="workout-selection">
          <h2 class="section-title">${currentLanguage === 'ru' ? 'НАСТРОЙКИ ПРОФИЛЯ' : 'PROFILE SETTINGS'}</h2>
          <p class="section-subtitle">
            ${currentLanguage === 'ru' ? 
              'Настройте свой тренировочный опыт' :
              'Customize your training experience'}
          </p>
          
          <div class="program-details" style="background: rgba(7, 35, 64, 0.7); padding: 40px; border-radius: 30px; margin: 40px 0; border: 2px solid rgba(192, 192, 192, 0.2);">
            <h3 style="color: var(--light); text-align: center; margin-bottom: 30px; font-size: 2rem;">
              <i class="fas fa-user-cog"></i> ${currentLanguage === 'ru' ? 'Настройки аккаунта' : 'Account Settings'}
            </h3>
            
            <div style="max-width: 500px; margin: 0 auto;">
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-user"></i> ${currentLanguage === 'ru' ? 'Ваше имя' : 'Your name'}
                </h4>
                <input type="text" id="userName" value="${currentUser.username}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem; font-weight: 600;">
              </div>
              
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-lock"></i> ${currentLanguage === 'ru' ? 'Сменить пароль' : 'Change password'}
                </h4>
                <input type="password" id="newPassword" placeholder="${currentLanguage === 'ru' ? 'Новый пароль (оставьте пустым, если не хотите менять)' : 'New password (leave empty if not changing)'}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem; margin-bottom: 15px;">
                <input type="password" id="confirmNewPassword" placeholder="${currentLanguage === 'ru' ? 'Подтвердите новый пароль' : 'Confirm new password'}" style="width: 100%; padding: 18px; background: rgba(0,0,0,0.2); border: 2px solid var(--silver); border-radius: 15px; color: white; font-size: 1.2rem;">
              </div>
              
              <div style="margin-bottom: 30px;">
                <h4 style="color: var(--accent); margin-bottom: 15px; font-size: 1.2rem;">
                  <i class="fas fa-language"></i> ${t('changeLanguage')}
                </h4>
                <div class="language-selector-settings">
                  <button class="lang-btn-settings ${currentLanguage === 'ru' ? 'active' : ''}" onclick="setLanguage('ru')">
                    <i class="fas fa-language"></i> ${t('russian')}
                  </button>
                  <button class="lang-btn-settings ${currentLanguage === 'en' ? 'active' : ''}" onclick="setLanguage('en')">
                    <i class="fas fa-language"></i> ${t('english')}
                  </button>
                </div>
              </div>
              
              <div style="text-align: center; margin-top: 50px;">
                <button class="btn btn-primary" onclick="saveSettings()" style="font-size: 1.3rem; padding: 20px 45px; margin-right: 20px;">
                  <i class="fas fa-save"></i> ${t('saveSettings')}
                </button>
                <button class="btn btn-secondary" onclick="showDashboard()" style="font-size: 1.3rem; padding: 20px 45px;">
                  <i class="fas fa-times"></i> ${t('cancel')}
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      
      closeMobileMenu();
    }
    
    function saveSettings() {
      const userNameInput = document.getElementById('userName');
      const newPasswordInput = document.getElementById('newPassword');
      const confirmNewPasswordInput = document.getElementById('confirmNewPassword');
      
      let changed = false;
      
      if (userNameInput && userNameInput.value.trim()) {
        currentUser.username = userNameInput.value.trim();
        changed = true;
      }
      
      if (newPasswordInput && newPasswordInput.value) {
        if (newPasswordInput.value.length < 6) {
          alert(currentLanguage === 'ru' ? 'Новый пароль должен быть не менее 6 символов' : 'New password must be at least 6 characters');
          return;
        }
        
        if (newPasswordInput.value !== confirmNewPasswordInput.value) {
          alert(currentLanguage === 'ru' ? 'Пароли не совпадают' : 'Passwords do not match');
          return;
        }
        
        currentUser.passwordHash = hashPassword(newPasswordInput.value);
        changed = true;
      }
      
      if (changed) {
        saveCurrentUser();
        usersDB[currentUser.id] = currentUser;
        saveUsersDB();
        updateNavigation();
        alert(currentLanguage === 'ru' ? 'Настройки сохранены успешно!' : 'Settings saved successfully!');
        showDashboard();
      } else {
        showDashboard();
      }
    }
    
    // ==================== MOBILE MENU ====================
    
    function closeMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu) {
        mobileMenu.style.display = 'none';
      }
    }
    
    // Переключение мобильного меню
    document.getElementById('menuToggle').addEventListener('click', function(event) {
      event.stopPropagation();
      const mobileMenu = document.getElementById('mobileMenu');
      if (mobileMenu.style.display === 'block') {
        mobileMenu.style.display = 'none';
      } else {
        mobileMenu.style.display = 'block';
      }
    });
    
    // Закрытие мобильного меню при клике снаружи
    document.addEventListener('click', function(event) {
      const mobileMenu = document.getElementById('mobileMenu');
      const menuToggle = document.getElementById('menuToggle');
      
      if (mobileMenu && mobileMenu.style.display === 'block' && 
          !mobileMenu.contains(event.target) && 
          !menuToggle.contains(event.target)) {
        mobileMenu.style.display = 'none';
      }
    });
    
    // ==================== INITIALIZE ====================
    
    window.onload = function() {
      // Загружаем сохраненный язык
      const savedLanguage = localStorage.getItem('silverSurferLanguage');
      if (savedLanguage) {
        currentLanguage = savedLanguage;
      }
      
      loadUsersDB();
      loadCurrentUser();
      createParticles();
      initScrollHeader();
      
      // Устанавливаем язык и обновляем навигацию
      updatePageLanguage();
      
      if (currentUser) {
        showDashboard();
      } else {
        showHome();
      }
    };
  </script>
</body>
</html>
